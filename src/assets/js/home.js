import DatePicker from "../../lib/datepicker.esm.js";
import "../../lib/datepicker.css";
import CustomSelect from "./select.js";
import "./tab.js";
import "./dropdown.js";
import JustValidate from "just-validate";

import Splide from "@splidejs/splide";

new DatePicker("outbound_date_picker");
new DatePicker("round_trip_from_date_picker");
new DatePicker("round_trip_to_date_picker");
new DatePicker("multicity_from_date_picker");
new DatePicker("multicity_to_date_picker");
new DatePicker("fly_status_date_picker");
new DatePicker("fly_number_date_picker");

document.addEventListener("click", (e) => {
  const swapButton = e.target.closest(".input-swap");
  if (!swapButton) return;

  const swap = swapButton.closest(".swapable");
  if (!swap) return;

  const boxes = swap.querySelectorAll(".swap-box");
  if (boxes.length < 2) return; // Ensure there are at least two boxes to swap

  const parent = boxes[0].parentNode;
  const firstBox = boxes[0];
  const secondBox = boxes[1];

  if (firstBox.nextElementSibling === secondBox) {
    parent.insertBefore(secondBox, firstBox);
  } else {
    parent.insertBefore(firstBox, secondBox);
  }
});

const initializeSwapables = () => {
  document.querySelectorAll(".swapable").forEach((swap) => {
    if (!swap.hasAttribute("data-initialized")) {
      swap.setAttribute("data-initialized", "true");
    }
  });
};

initializeSwapables();

document.addEventListener("click", (e) => {
  // Increment logic
  if (e.target.closest(".increment")) {
    const button = e.target.closest("button");
    const target = button.getAttribute("aria-controls");
    const input = document.getElementById(target);

    let prefix;
    prefix = target.slice(target.indexOf("-"));

    if (input) {
      input.stepUp(1);
      updatePassengerText(prefix);
    }
  }

  // Decrement logic
  if (e.target.closest(".decrement")) {
    const button = e.target.closest("button");
    const target = button.getAttribute("aria-controls");
    const input = document.getElementById(target);

    let prefix;
    prefix = target.slice(target.indexOf("-"));

    if (input) {
      input.stepDown(1);
      updatePassengerText(prefix);
    }
  }
});

document.addEventListener("click", (event) => {
  document.querySelectorAll(".dp").forEach((picker) => {
    const input = picker.querySelector(".date");
    const calendar = picker.querySelector(".date_picker_calendar");

    if (input.contains(event.target)) {
      document.querySelectorAll(".date_picker_calendar").forEach((cal) => {
        if (cal !== calendar) cal.classList.add("hidden");
      });
      calendar.classList.toggle("hidden");
      picker.classList.toggle("open");
    } else if (!picker.contains(event.target)) {
      calendar.classList.add("hidden");
      picker.classList.remove("open");
    }
  });
});

function updatePassengerText(prefix) {
  prefix = prefix || "";
  const adults = document.getElementById(`adults${prefix}`).value;
  const children = document.getElementById(`child${prefix}`).value;
  const infants = document.getElementById(`soChild${prefix}`).value;

  const passengerInput = document.getElementById(`passengers${prefix}`);

  let parts = [];

  if (adults > 0) parts.push(`${adults} بزرگسال`);
  if (children > 0) parts.push(`${children} کودک`);
  if (infants > 0) parts.push(`${infants} نوزاد`);

  let text = parts.join(" , ");

  passengerInput.value =text;
}

const citySelectCallback = (value, index) => {
  const svg = value.querySelector("svg");
  const city_icon = value.closest(".swap-box").querySelector(`.city-icon`);

  if (svg && city_icon.children.length > 0) {
    city_icon.replaceChild(svg.cloneNode(true), city_icon.children[0]);
  }
};

const multipleRoutes = document.getElementById("multiple-routes-container");

document.addEventListener("click", (e) => {
  const btn = e.target.closest(".delete-route");
  if (!btn) return; // Ignore clicks outside delete buttons

  const target = btn.getAttribute("aria-controls");
  document.getElementById(target).remove();
});

const observeNewElements = () => {
  document.querySelectorAll(".swap-box").forEach((box, index) => {
    if (!box.hasAttribute("data-initialized")) {
      box.setAttribute("data-initialized", "true");
      new CustomSelect(box, (value) => {
        citySelectCallback(value, index);
      });
    }
  });
};

const observer = new MutationObserver((mutations) => {
  mutations.forEach(() => {
    observeNewElements();
  });
});

observer.observe(document.body, { childList: true, subtree: true });

observeNewElements();

const addRoute = document.getElementById("add-route");
let routes = 1;
addRoute.addEventListener("click", () => {
  if (routes == 3) return;
  routes++;
  multipleRoutes.insertAdjacentHTML(
    "beforeend",
    `

         <div id='route-container-${routes}' class="grid  gap-3 gap-y-6 ticket-grid-cols" >
                    <div  class="rounded-xxl relative swapable flex basis-full items-center justify-between gap-4 bg-white">
                      <div id="route-${routes}" class="custom-select swap-box *:text-tiny group relative w-[45%] px-5 *:text-black">
                        <div class="select-trigger">
                          <div class="input rounded-xxl relative flex min-h-[3.25rem] items-center justify-between bg-white">
                            <div class="flex items-center gap-3">
                              <div class="city-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path opacity="0.4" d="M20.6201 8.45C19.5701 3.83 15.5401 1.75 12.0001 1.75C12.0001 1.75 12.0001 1.75 11.9901 1.75C8.4601 1.75 4.4201 3.82 3.3701 8.44C2.2001 13.6 5.3601 17.97 8.2201 20.72C9.2801 21.74 10.6401 22.25 12.0001 22.25C13.3601 22.25 14.7201 21.74 15.7701 20.72C18.6301 17.97 21.7901 13.61 20.6201 8.45Z" fill="black"></path>
                                  <path d="M12.0001 13.4602C13.7398 13.4602 15.1501 12.0499 15.1501 10.3102C15.1501 8.57046 13.7398 7.16016 12.0001 7.16016C10.2604 7.16016 8.8501 8.57046 8.8501 10.3102C8.8501 12.0499 10.2604 13.4602 12.0001 13.4602Z" fill="black"></path>
                                </svg>
                              </div>

                              <span                                 class="selected-value max-w-[15ch] overflow-hidden text-sm text-nowrap text-ellipsis text-gray-500 group-[.filled]:text-xs group-[.filled]:text-black xl:max-w-full"
>از:</span>
                            </div>

                            <div class="group-[.open]:rotate-180">
                              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14.94 6.71249L10.05 11.6025C9.4725 12.18 8.5275 12.18 7.95 11.6025L3.06 6.71249" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                              </svg>
                            </div>
                          </div>
                        </div>

                        <div dir="ltr" class="options-list *:*:text-tiny    max-h-[17.4375rem] overflow-y-auto *:border-b *:border-b-gray-tag *:py-2 absolute top-full right-0 left-0 z-50 mt-[0.25rem] hidden rounded-l-2xl rounded-r-xl bg-white !p-4 !pb-5 shadow-md *:cursor-pointer *:!text-sm">

                          <label tabindex="0" for="route-${routes}-from-tehran" data-value="تهران-همه فرودگاه ها" class="option block pb-2">
                          <div class="flex  justify-between">

                            <div class="flex gap-2">
                              <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M6.56422 0.702345L7.26657 0.356575L7.96891 0.0108053L9.64374 0.0324159L9.67075 1.08593H15.2355L15.2625 0.0324159L16.8833 0L18.2826 0.680734L20.449 0.734761L20.4761 14.5385L21.1622 15.1815L21.2341 15.2473C21.609 15.5906 22.0864 16.0277 22.34 16.2458C22.6101 16.4781 23.118 16.8995 23.4745 17.1858C23.8311 17.4668 24.2957 17.8234 24.5118 17.9692C24.7388 18.1259 24.9008 18.2772 24.9062 18.3366C24.9062 18.423 24.6955 18.4285 17.5316 18.4339L17.094 17.5262C16.8509 17.0292 16.5159 16.2674 16.3538 15.8352C16.1863 15.403 15.954 14.7222 15.8352 14.3224C15.7109 13.9226 15.5542 13.3013 15.4786 12.9448C15.4084 12.5882 15.3111 11.8966 15.2625 11.405C15.2139 10.9134 15.1328 10.3083 15.0788 10.0543C15.0194 9.80041 14.9005 9.40062 14.8087 9.1629C14.7168 8.92518 14.5331 8.547 14.4035 8.32549C14.2738 8.10398 14.0469 7.78522 13.901 7.61774C13.7606 7.45566 13.5336 7.21794 13.3986 7.09909C13.2635 6.98023 13.0096 6.78033 12.8313 6.65607C12.653 6.53181 12.4801 6.43456 12.4531 6.43456C12.4261 6.42916 12.2316 6.54802 12.0209 6.69389C11.8102 6.83976 11.5022 7.09909 11.3294 7.26657C11.1619 7.43405 10.908 7.72039 10.7729 7.90408C10.6378 8.09317 10.4433 8.40113 10.3461 8.59562C10.2488 8.79012 10.1084 9.11428 10.0327 9.32498C9.95709 9.53568 9.85984 9.88686 9.81662 10.1084C9.768 10.3299 9.69236 10.9026 9.64374 11.378C9.60052 11.8534 9.52488 12.4369 9.47625 12.6746C9.43303 12.9123 9.34119 13.3392 9.27095 13.6201C9.19532 13.901 9.04944 14.4143 8.93599 14.7546C8.82794 15.095 8.60643 15.7055 8.44435 16.1053C8.28227 16.5051 7.97972 17.1966 7.37462 18.4339L3.69001 18.4285C0.210704 18.4285 0 18.423 0 18.3312C0 18.2826 0.124261 18.1583 0.280938 18.0503C0.437615 17.9476 0.853619 17.6343 1.2156 17.3533C1.57217 17.0724 2.10703 16.6402 2.40418 16.3862C2.70133 16.1269 3.27941 15.6083 4.43018 14.5385L4.45719 0.734761L6.56422 0.702345Z" fill="black"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.14729 0.221191H9.46014L9.43852 6.01824C9.41691 11.583 9.41151 11.8315 9.30886 12.4042C9.24403 12.7337 9.14138 13.2038 9.07655 13.4577C9.01712 13.7116 8.88745 14.16 8.79561 14.4572C8.70917 14.7543 8.47685 15.3972 8.28236 15.8889C8.08786 16.3805 7.77451 17.1045 7.23964 18.212H5.45677C4.47889 18.212 3.67389 18.2012 3.67389 18.185C3.67389 18.1688 3.84678 17.9689 4.05748 17.7366C4.26819 17.5097 4.68959 17.0126 4.99214 16.6399C5.28929 16.2671 5.73771 15.6836 5.97542 15.3432C6.21854 15.0028 6.61294 14.4032 6.85606 14.0142C7.09377 13.6198 7.43954 13.0093 7.61243 12.6635C7.79072 12.3123 7.92038 12.0098 7.90957 11.9882C7.89877 11.9612 7.85014 11.9449 7.80692 11.9449C7.7583 11.9449 7.61783 12.1557 7.46115 12.4744C7.31528 12.7607 7.07216 13.22 6.91549 13.4847C6.75341 13.7494 6.45626 14.2249 6.25096 14.5382C6.04566 14.8516 5.62965 15.4351 5.32711 15.8349C5.02996 16.2347 4.55993 16.8181 4.2898 17.1315C4.01426 17.4448 3.6847 17.8176 3.32272 18.2174L0.486328 18.185L1.0374 17.769C1.34535 17.5421 1.8586 17.1315 2.18816 16.8614C2.51232 16.5912 3.12282 16.0564 3.53883 15.6782C3.95483 15.2946 4.59234 14.6571 4.95432 14.2627C5.3163 13.8629 5.81334 13.2848 6.05646 12.9715C6.29958 12.6581 6.64535 12.1827 6.82364 11.9179C6.99653 11.6532 7.28287 11.1508 7.45575 10.8104C7.62864 10.47 7.83934 9.96758 7.93118 9.70285C8.01763 9.43812 8.12568 9.07074 8.1635 8.89245C8.22293 8.63853 8.23914 8.02802 8.22833 6.1371C8.22293 4.79724 8.20132 2.92252 8.17971 1.96085L8.14729 0.221191ZM15.4463 0.221191H16.7321L16.7105 1.8582C16.6997 2.75504 16.6889 4.64596 16.6781 6.06146C16.6673 8.53587 16.6727 8.64393 16.7861 9.08154C16.851 9.33547 16.9698 9.71365 17.0455 9.91895C17.1265 10.1297 17.3102 10.5403 17.4615 10.8428C17.6073 11.1346 17.9099 11.6478 18.126 11.972C18.3421 12.3015 18.6933 12.7878 18.9094 13.0579C19.1201 13.3226 19.5847 13.8575 19.9359 14.2411C20.2871 14.6301 20.9246 15.2676 21.3514 15.6566C21.7782 16.051 22.3563 16.5588 22.6372 16.7965C22.9235 17.0288 23.3828 17.4016 23.6691 17.6231C23.9501 17.8446 24.2418 18.0662 24.3174 18.1148C24.4417 18.2066 24.3823 18.2066 21.5567 18.212L21.0488 17.6339C20.7679 17.3152 20.3087 16.7695 20.0331 16.4237C19.7576 16.0834 19.3254 15.5107 19.0769 15.1541C18.8229 14.803 18.4231 14.1979 18.1908 13.8089C17.9585 13.4253 17.6343 12.8472 17.4723 12.5284C17.2994 12.1773 17.1481 11.9449 17.0995 11.9449C17.0563 11.9449 17.0076 11.9666 16.9968 11.9882C16.986 12.0098 17.1157 12.3123 17.294 12.6635C17.4723 13.0147 17.7856 13.582 17.9963 13.9331C18.207 14.2843 18.6176 14.8948 18.904 15.2946C19.1849 15.6998 19.6549 16.3157 19.9413 16.6723C20.233 17.0342 20.6382 17.5097 20.8489 17.742C21.0596 17.9743 21.2325 18.1742 21.2325 18.185C21.2325 18.2012 20.4329 18.212 17.6668 18.212L17.3102 17.4719C17.1157 17.0613 16.8023 16.3427 16.6132 15.8619C16.4296 15.3864 16.2026 14.7543 16.1108 14.4572C16.019 14.16 15.8947 13.7116 15.8299 13.4577C15.765 13.2092 15.6624 12.7337 15.603 12.4042C15.4949 11.8369 15.4895 11.5884 15.4679 6.01824L15.4463 0.221191ZM7.91498 0.280621L7.94199 1.34494C7.9582 1.92843 7.98521 3.36013 7.99602 4.5163C8.01222 5.67247 8.02303 7.06095 8.02303 7.59581C8.01763 8.47104 8.00142 8.62232 7.87176 9.11936C7.79072 9.42731 7.63404 9.88654 7.52599 10.1459C7.41253 10.4106 7.18022 10.8698 7.01273 11.1724C6.83985 11.4803 6.68857 11.7288 6.67237 11.7288C6.66156 11.7288 6.63995 9.29765 6.62374 0.923536L7.91498 0.280621ZM17.0293 0.334647C17.0563 0.334647 17.3426 0.464311 18.2665 0.928939V6.33159C18.2665 9.30305 18.2557 11.7342 18.2394 11.7342C18.2232 11.7342 18.1152 11.5668 18.0017 11.3669C17.8883 11.167 17.7208 10.859 17.6289 10.6807C17.5371 10.5024 17.3912 10.1729 17.3048 9.95137C17.2183 9.72446 17.0887 9.32466 17.013 9.05993C16.8888 8.5845 16.8888 8.51967 16.8996 6.57471C16.905 5.47257 16.9266 3.61946 16.9482 2.45249C16.9644 1.28551 17.0022 0.334647 17.0293 0.334647ZM6.43465 0.934342V12.1124L6.14831 12.5014C5.98623 12.7175 5.67288 13.1119 5.45137 13.3821C5.22446 13.6468 4.94892 13.9493 4.64637 14.2465L4.64097 7.62283C4.63557 3.97604 4.65177 0.982965 4.67879 0.961355C4.7058 0.939744 5.111 0.928939 6.43465 0.934342ZM18.4826 0.923536L20.2384 0.955952L20.26 14.2465L19.8764 13.8413C19.6657 13.6144 19.266 13.1443 18.4826 12.1394V0.923536ZM9.67084 1.30172H15.2356L15.2302 9.64882L15.1059 9.29765C15.0411 9.10315 14.8898 8.76279 14.7817 8.54128C14.6683 8.31977 14.4738 7.99021 14.3441 7.81192C14.2199 7.63363 13.9227 7.30407 13.6904 7.07716C13.4581 6.85025 13.0853 6.5477 12.4748 6.1371L12.2803 6.24515C12.1723 6.30458 11.9616 6.44505 11.8103 6.5585C11.659 6.67196 11.3727 6.92588 11.1674 7.12578C10.9621 7.32568 10.6919 7.63363 10.5623 7.81192C10.438 7.99021 10.2381 8.31977 10.1301 8.54128C10.0166 8.76279 9.87074 9.10315 9.68164 9.64882L9.67084 1.30172Z" fill="#F9F9F9"></path>
                                <path d="M11.7397 3.1014C11.864 2.96633 12.0639 2.78264 12.1773 2.6962C12.2962 2.61516 12.4151 2.54492 12.4475 2.54492C12.4799 2.54492 12.6041 2.60975 12.723 2.6962C12.8419 2.78264 13.0418 2.96633 13.1714 3.1014C13.2957 3.24186 13.4578 3.47418 13.5334 3.62545C13.609 3.77132 13.7063 4.03605 13.7495 4.20354C13.7927 4.37642 13.8305 4.60874 13.8305 4.92209H11.0752V4.71679C11.0752 4.60874 11.113 4.37642 11.1562 4.20354C11.1995 4.03605 11.2967 3.77132 11.3723 3.62545C11.448 3.47418 11.6101 3.24186 11.7397 3.1014Z" fill="black"></path>
                                <path d="M11.8431 3.31768C11.9403 3.19342 12.1078 3.03134 12.2104 2.9557C12.3131 2.87466 12.4211 2.81523 12.4536 2.81523C12.4806 2.80983 12.594 2.88007 12.7021 2.96111C12.8101 3.04215 12.9776 3.20963 13.0749 3.32849C13.1667 3.44734 13.2964 3.63644 13.3504 3.74989C13.4044 3.85795 13.4909 4.10107 13.5341 4.29016C13.5773 4.47385 13.6151 4.64133 13.6151 4.66834C13.6151 4.68995 13.0911 4.70616 12.4536 4.70616C11.5621 4.70616 11.292 4.68995 11.292 4.64133C11.292 4.60351 11.3298 4.42522 11.3784 4.24694C11.4271 4.06865 11.5081 3.83634 11.5621 3.73368C11.6162 3.63103 11.7404 3.44194 11.8431 3.31768Z" fill="#F9F9F9"></path>
                              </svg>

                              <div>

                                <p class="font-bold">تهران</p>
                                <p class="leading-relaxed">همه فرودگاه ها</p>

                              </div>
                            </div>
                            <div class="flex  gap-1">
                              <div class="bg-gray-tag h-fit flex items-center gap-1 rounded-[4px] p-0.5 px-1">
                                <p class="text-tiny font-bold text-gray-700">
                                  THRC
                                </p>
                                <span class="size-[4px] rounded-full bg-gray-700"></span>
                              </div>
                              <input type="radio" id="route-${routes}-from-tehran" name="route-${routes}-from" class="radio-hidden  hidden w-full">
                              <label for="route-${routes}-from-tehran" class="radio radio--black mt-0.5 aspect-square"></label>
                            </div>
                          </div>
                          </label>

                          <label tabindex="0" for="route-${routes}-from-tehran-2" data-value="تهران-همه فرودگاه ها" class="option block pb-2">
                          <div class="flex  justify-between">

                            <div class="flex gap-2">
                              <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M6.56422 0.702345L7.26657 0.356575L7.96891 0.0108053L9.64374 0.0324159L9.67075 1.08593H15.2355L15.2625 0.0324159L16.8833 0L18.2826 0.680734L20.449 0.734761L20.4761 14.5385L21.1622 15.1815L21.2341 15.2473C21.609 15.5906 22.0864 16.0277 22.34 16.2458C22.6101 16.4781 23.118 16.8995 23.4745 17.1858C23.8311 17.4668 24.2957 17.8234 24.5118 17.9692C24.7388 18.1259 24.9008 18.2772 24.9062 18.3366C24.9062 18.423 24.6955 18.4285 17.5316 18.4339L17.094 17.5262C16.8509 17.0292 16.5159 16.2674 16.3538 15.8352C16.1863 15.403 15.954 14.7222 15.8352 14.3224C15.7109 13.9226 15.5542 13.3013 15.4786 12.9448C15.4084 12.5882 15.3111 11.8966 15.2625 11.405C15.2139 10.9134 15.1328 10.3083 15.0788 10.0543C15.0194 9.80041 14.9005 9.40062 14.8087 9.1629C14.7168 8.92518 14.5331 8.547 14.4035 8.32549C14.2738 8.10398 14.0469 7.78522 13.901 7.61774C13.7606 7.45566 13.5336 7.21794 13.3986 7.09909C13.2635 6.98023 13.0096 6.78033 12.8313 6.65607C12.653 6.53181 12.4801 6.43456 12.4531 6.43456C12.4261 6.42916 12.2316 6.54802 12.0209 6.69389C11.8102 6.83976 11.5022 7.09909 11.3294 7.26657C11.1619 7.43405 10.908 7.72039 10.7729 7.90408C10.6378 8.09317 10.4433 8.40113 10.3461 8.59562C10.2488 8.79012 10.1084 9.11428 10.0327 9.32498C9.95709 9.53568 9.85984 9.88686 9.81662 10.1084C9.768 10.3299 9.69236 10.9026 9.64374 11.378C9.60052 11.8534 9.52488 12.4369 9.47625 12.6746C9.43303 12.9123 9.34119 13.3392 9.27095 13.6201C9.19532 13.901 9.04944 14.4143 8.93599 14.7546C8.82794 15.095 8.60643 15.7055 8.44435 16.1053C8.28227 16.5051 7.97972 17.1966 7.37462 18.4339L3.69001 18.4285C0.210704 18.4285 0 18.423 0 18.3312C0 18.2826 0.124261 18.1583 0.280938 18.0503C0.437615 17.9476 0.853619 17.6343 1.2156 17.3533C1.57217 17.0724 2.10703 16.6402 2.40418 16.3862C2.70133 16.1269 3.27941 15.6083 4.43018 14.5385L4.45719 0.734761L6.56422 0.702345Z" fill="black"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.14729 0.221191H9.46014L9.43852 6.01824C9.41691 11.583 9.41151 11.8315 9.30886 12.4042C9.24403 12.7337 9.14138 13.2038 9.07655 13.4577C9.01712 13.7116 8.88745 14.16 8.79561 14.4572C8.70917 14.7543 8.47685 15.3972 8.28236 15.8889C8.08786 16.3805 7.77451 17.1045 7.23964 18.212H5.45677C4.47889 18.212 3.67389 18.2012 3.67389 18.185C3.67389 18.1688 3.84678 17.9689 4.05748 17.7366C4.26819 17.5097 4.68959 17.0126 4.99214 16.6399C5.28929 16.2671 5.73771 15.6836 5.97542 15.3432C6.21854 15.0028 6.61294 14.4032 6.85606 14.0142C7.09377 13.6198 7.43954 13.0093 7.61243 12.6635C7.79072 12.3123 7.92038 12.0098 7.90957 11.9882C7.89877 11.9612 7.85014 11.9449 7.80692 11.9449C7.7583 11.9449 7.61783 12.1557 7.46115 12.4744C7.31528 12.7607 7.07216 13.22 6.91549 13.4847C6.75341 13.7494 6.45626 14.2249 6.25096 14.5382C6.04566 14.8516 5.62965 15.4351 5.32711 15.8349C5.02996 16.2347 4.55993 16.8181 4.2898 17.1315C4.01426 17.4448 3.6847 17.8176 3.32272 18.2174L0.486328 18.185L1.0374 17.769C1.34535 17.5421 1.8586 17.1315 2.18816 16.8614C2.51232 16.5912 3.12282 16.0564 3.53883 15.6782C3.95483 15.2946 4.59234 14.6571 4.95432 14.2627C5.3163 13.8629 5.81334 13.2848 6.05646 12.9715C6.29958 12.6581 6.64535 12.1827 6.82364 11.9179C6.99653 11.6532 7.28287 11.1508 7.45575 10.8104C7.62864 10.47 7.83934 9.96758 7.93118 9.70285C8.01763 9.43812 8.12568 9.07074 8.1635 8.89245C8.22293 8.63853 8.23914 8.02802 8.22833 6.1371C8.22293 4.79724 8.20132 2.92252 8.17971 1.96085L8.14729 0.221191ZM15.4463 0.221191H16.7321L16.7105 1.8582C16.6997 2.75504 16.6889 4.64596 16.6781 6.06146C16.6673 8.53587 16.6727 8.64393 16.7861 9.08154C16.851 9.33547 16.9698 9.71365 17.0455 9.91895C17.1265 10.1297 17.3102 10.5403 17.4615 10.8428C17.6073 11.1346 17.9099 11.6478 18.126 11.972C18.3421 12.3015 18.6933 12.7878 18.9094 13.0579C19.1201 13.3226 19.5847 13.8575 19.9359 14.2411C20.2871 14.6301 20.9246 15.2676 21.3514 15.6566C21.7782 16.051 22.3563 16.5588 22.6372 16.7965C22.9235 17.0288 23.3828 17.4016 23.6691 17.6231C23.9501 17.8446 24.2418 18.0662 24.3174 18.1148C24.4417 18.2066 24.3823 18.2066 21.5567 18.212L21.0488 17.6339C20.7679 17.3152 20.3087 16.7695 20.0331 16.4237C19.7576 16.0834 19.3254 15.5107 19.0769 15.1541C18.8229 14.803 18.4231 14.1979 18.1908 13.8089C17.9585 13.4253 17.6343 12.8472 17.4723 12.5284C17.2994 12.1773 17.1481 11.9449 17.0995 11.9449C17.0563 11.9449 17.0076 11.9666 16.9968 11.9882C16.986 12.0098 17.1157 12.3123 17.294 12.6635C17.4723 13.0147 17.7856 13.582 17.9963 13.9331C18.207 14.2843 18.6176 14.8948 18.904 15.2946C19.1849 15.6998 19.6549 16.3157 19.9413 16.6723C20.233 17.0342 20.6382 17.5097 20.8489 17.742C21.0596 17.9743 21.2325 18.1742 21.2325 18.185C21.2325 18.2012 20.4329 18.212 17.6668 18.212L17.3102 17.4719C17.1157 17.0613 16.8023 16.3427 16.6132 15.8619C16.4296 15.3864 16.2026 14.7543 16.1108 14.4572C16.019 14.16 15.8947 13.7116 15.8299 13.4577C15.765 13.2092 15.6624 12.7337 15.603 12.4042C15.4949 11.8369 15.4895 11.5884 15.4679 6.01824L15.4463 0.221191ZM7.91498 0.280621L7.94199 1.34494C7.9582 1.92843 7.98521 3.36013 7.99602 4.5163C8.01222 5.67247 8.02303 7.06095 8.02303 7.59581C8.01763 8.47104 8.00142 8.62232 7.87176 9.11936C7.79072 9.42731 7.63404 9.88654 7.52599 10.1459C7.41253 10.4106 7.18022 10.8698 7.01273 11.1724C6.83985 11.4803 6.68857 11.7288 6.67237 11.7288C6.66156 11.7288 6.63995 9.29765 6.62374 0.923536L7.91498 0.280621ZM17.0293 0.334647C17.0563 0.334647 17.3426 0.464311 18.2665 0.928939V6.33159C18.2665 9.30305 18.2557 11.7342 18.2394 11.7342C18.2232 11.7342 18.1152 11.5668 18.0017 11.3669C17.8883 11.167 17.7208 10.859 17.6289 10.6807C17.5371 10.5024 17.3912 10.1729 17.3048 9.95137C17.2183 9.72446 17.0887 9.32466 17.013 9.05993C16.8888 8.5845 16.8888 8.51967 16.8996 6.57471C16.905 5.47257 16.9266 3.61946 16.9482 2.45249C16.9644 1.28551 17.0022 0.334647 17.0293 0.334647ZM6.43465 0.934342V12.1124L6.14831 12.5014C5.98623 12.7175 5.67288 13.1119 5.45137 13.3821C5.22446 13.6468 4.94892 13.9493 4.64637 14.2465L4.64097 7.62283C4.63557 3.97604 4.65177 0.982965 4.67879 0.961355C4.7058 0.939744 5.111 0.928939 6.43465 0.934342ZM18.4826 0.923536L20.2384 0.955952L20.26 14.2465L19.8764 13.8413C19.6657 13.6144 19.266 13.1443 18.4826 12.1394V0.923536ZM9.67084 1.30172H15.2356L15.2302 9.64882L15.1059 9.29765C15.0411 9.10315 14.8898 8.76279 14.7817 8.54128C14.6683 8.31977 14.4738 7.99021 14.3441 7.81192C14.2199 7.63363 13.9227 7.30407 13.6904 7.07716C13.4581 6.85025 13.0853 6.5477 12.4748 6.1371L12.2803 6.24515C12.1723 6.30458 11.9616 6.44505 11.8103 6.5585C11.659 6.67196 11.3727 6.92588 11.1674 7.12578C10.9621 7.32568 10.6919 7.63363 10.5623 7.81192C10.438 7.99021 10.2381 8.31977 10.1301 8.54128C10.0166 8.76279 9.87074 9.10315 9.68164 9.64882L9.67084 1.30172Z" fill="#F9F9F9"></path>
                                <path d="M11.7397 3.1014C11.864 2.96633 12.0639 2.78264 12.1773 2.6962C12.2962 2.61516 12.4151 2.54492 12.4475 2.54492C12.4799 2.54492 12.6041 2.60975 12.723 2.6962C12.8419 2.78264 13.0418 2.96633 13.1714 3.1014C13.2957 3.24186 13.4578 3.47418 13.5334 3.62545C13.609 3.77132 13.7063 4.03605 13.7495 4.20354C13.7927 4.37642 13.8305 4.60874 13.8305 4.92209H11.0752V4.71679C11.0752 4.60874 11.113 4.37642 11.1562 4.20354C11.1995 4.03605 11.2967 3.77132 11.3723 3.62545C11.448 3.47418 11.6101 3.24186 11.7397 3.1014Z" fill="black"></path>
                                <path d="M11.8431 3.31768C11.9403 3.19342 12.1078 3.03134 12.2104 2.9557C12.3131 2.87466 12.4211 2.81523 12.4536 2.81523C12.4806 2.80983 12.594 2.88007 12.7021 2.96111C12.8101 3.04215 12.9776 3.20963 13.0749 3.32849C13.1667 3.44734 13.2964 3.63644 13.3504 3.74989C13.4044 3.85795 13.4909 4.10107 13.5341 4.29016C13.5773 4.47385 13.6151 4.64133 13.6151 4.66834C13.6151 4.68995 13.0911 4.70616 12.4536 4.70616C11.5621 4.70616 11.292 4.68995 11.292 4.64133C11.292 4.60351 11.3298 4.42522 11.3784 4.24694C11.4271 4.06865 11.5081 3.83634 11.5621 3.73368C11.6162 3.63103 11.7404 3.44194 11.8431 3.31768Z" fill="#F9F9F9"></path>
                              </svg>

                              <div>

                                <p class="font-bold">تهران</p>
                                <p class="leading-relaxed">همه فرودگاه ها</p>

                              </div>
                            </div>
                            <div class="flex  gap-1">
                              <div class="bg-gray-tag h-fit flex items-center gap-1 rounded-[4px] p-0.5 px-1">
                                <p class="text-tiny font-bold text-gray-700">
                                  THRC
                                </p>
                                <span class="size-[4px] rounded-full bg-gray-700"></span>
                              </div>
                              <input type="radio" id="route-${routes}-from-tehran-2" name="route-${routes}-from" class="radio-hidden  hidden w-full">
                              <label for="route-${routes}-from-tehran-2" class="radio radio--black mt-0.5 aspect-square"></label>
                            </div>
                          </div>
                          </label>
                          <label tabindex="0" for="route-${routes}-from-tehran-3" data-value="تهران-همه فرودگاه ها" class="option block  pb-2">
                          <div class="flex  justify-between">

                            <div class="flex gap-2">
                              <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M6.56422 0.702345L7.26657 0.356575L7.96891 0.0108053L9.64374 0.0324159L9.67075 1.08593H15.2355L15.2625 0.0324159L16.8833 0L18.2826 0.680734L20.449 0.734761L20.4761 14.5385L21.1622 15.1815L21.2341 15.2473C21.609 15.5906 22.0864 16.0277 22.34 16.2458C22.6101 16.4781 23.118 16.8995 23.4745 17.1858C23.8311 17.4668 24.2957 17.8234 24.5118 17.9692C24.7388 18.1259 24.9008 18.2772 24.9062 18.3366C24.9062 18.423 24.6955 18.4285 17.5316 18.4339L17.094 17.5262C16.8509 17.0292 16.5159 16.2674 16.3538 15.8352C16.1863 15.403 15.954 14.7222 15.8352 14.3224C15.7109 13.9226 15.5542 13.3013 15.4786 12.9448C15.4084 12.5882 15.3111 11.8966 15.2625 11.405C15.2139 10.9134 15.1328 10.3083 15.0788 10.0543C15.0194 9.80041 14.9005 9.40062 14.8087 9.1629C14.7168 8.92518 14.5331 8.547 14.4035 8.32549C14.2738 8.10398 14.0469 7.78522 13.901 7.61774C13.7606 7.45566 13.5336 7.21794 13.3986 7.09909C13.2635 6.98023 13.0096 6.78033 12.8313 6.65607C12.653 6.53181 12.4801 6.43456 12.4531 6.43456C12.4261 6.42916 12.2316 6.54802 12.0209 6.69389C11.8102 6.83976 11.5022 7.09909 11.3294 7.26657C11.1619 7.43405 10.908 7.72039 10.7729 7.90408C10.6378 8.09317 10.4433 8.40113 10.3461 8.59562C10.2488 8.79012 10.1084 9.11428 10.0327 9.32498C9.95709 9.53568 9.85984 9.88686 9.81662 10.1084C9.768 10.3299 9.69236 10.9026 9.64374 11.378C9.60052 11.8534 9.52488 12.4369 9.47625 12.6746C9.43303 12.9123 9.34119 13.3392 9.27095 13.6201C9.19532 13.901 9.04944 14.4143 8.93599 14.7546C8.82794 15.095 8.60643 15.7055 8.44435 16.1053C8.28227 16.5051 7.97972 17.1966 7.37462 18.4339L3.69001 18.4285C0.210704 18.4285 0 18.423 0 18.3312C0 18.2826 0.124261 18.1583 0.280938 18.0503C0.437615 17.9476 0.853619 17.6343 1.2156 17.3533C1.57217 17.0724 2.10703 16.6402 2.40418 16.3862C2.70133 16.1269 3.27941 15.6083 4.43018 14.5385L4.45719 0.734761L6.56422 0.702345Z" fill="black"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.14729 0.221191H9.46014L9.43852 6.01824C9.41691 11.583 9.41151 11.8315 9.30886 12.4042C9.24403 12.7337 9.14138 13.2038 9.07655 13.4577C9.01712 13.7116 8.88745 14.16 8.79561 14.4572C8.70917 14.7543 8.47685 15.3972 8.28236 15.8889C8.08786 16.3805 7.77451 17.1045 7.23964 18.212H5.45677C4.47889 18.212 3.67389 18.2012 3.67389 18.185C3.67389 18.1688 3.84678 17.9689 4.05748 17.7366C4.26819 17.5097 4.68959 17.0126 4.99214 16.6399C5.28929 16.2671 5.73771 15.6836 5.97542 15.3432C6.21854 15.0028 6.61294 14.4032 6.85606 14.0142C7.09377 13.6198 7.43954 13.0093 7.61243 12.6635C7.79072 12.3123 7.92038 12.0098 7.90957 11.9882C7.89877 11.9612 7.85014 11.9449 7.80692 11.9449C7.7583 11.9449 7.61783 12.1557 7.46115 12.4744C7.31528 12.7607 7.07216 13.22 6.91549 13.4847C6.75341 13.7494 6.45626 14.2249 6.25096 14.5382C6.04566 14.8516 5.62965 15.4351 5.32711 15.8349C5.02996 16.2347 4.55993 16.8181 4.2898 17.1315C4.01426 17.4448 3.6847 17.8176 3.32272 18.2174L0.486328 18.185L1.0374 17.769C1.34535 17.5421 1.8586 17.1315 2.18816 16.8614C2.51232 16.5912 3.12282 16.0564 3.53883 15.6782C3.95483 15.2946 4.59234 14.6571 4.95432 14.2627C5.3163 13.8629 5.81334 13.2848 6.05646 12.9715C6.29958 12.6581 6.64535 12.1827 6.82364 11.9179C6.99653 11.6532 7.28287 11.1508 7.45575 10.8104C7.62864 10.47 7.83934 9.96758 7.93118 9.70285C8.01763 9.43812 8.12568 9.07074 8.1635 8.89245C8.22293 8.63853 8.23914 8.02802 8.22833 6.1371C8.22293 4.79724 8.20132 2.92252 8.17971 1.96085L8.14729 0.221191ZM15.4463 0.221191H16.7321L16.7105 1.8582C16.6997 2.75504 16.6889 4.64596 16.6781 6.06146C16.6673 8.53587 16.6727 8.64393 16.7861 9.08154C16.851 9.33547 16.9698 9.71365 17.0455 9.91895C17.1265 10.1297 17.3102 10.5403 17.4615 10.8428C17.6073 11.1346 17.9099 11.6478 18.126 11.972C18.3421 12.3015 18.6933 12.7878 18.9094 13.0579C19.1201 13.3226 19.5847 13.8575 19.9359 14.2411C20.2871 14.6301 20.9246 15.2676 21.3514 15.6566C21.7782 16.051 22.3563 16.5588 22.6372 16.7965C22.9235 17.0288 23.3828 17.4016 23.6691 17.6231C23.9501 17.8446 24.2418 18.0662 24.3174 18.1148C24.4417 18.2066 24.3823 18.2066 21.5567 18.212L21.0488 17.6339C20.7679 17.3152 20.3087 16.7695 20.0331 16.4237C19.7576 16.0834 19.3254 15.5107 19.0769 15.1541C18.8229 14.803 18.4231 14.1979 18.1908 13.8089C17.9585 13.4253 17.6343 12.8472 17.4723 12.5284C17.2994 12.1773 17.1481 11.9449 17.0995 11.9449C17.0563 11.9449 17.0076 11.9666 16.9968 11.9882C16.986 12.0098 17.1157 12.3123 17.294 12.6635C17.4723 13.0147 17.7856 13.582 17.9963 13.9331C18.207 14.2843 18.6176 14.8948 18.904 15.2946C19.1849 15.6998 19.6549 16.3157 19.9413 16.6723C20.233 17.0342 20.6382 17.5097 20.8489 17.742C21.0596 17.9743 21.2325 18.1742 21.2325 18.185C21.2325 18.2012 20.4329 18.212 17.6668 18.212L17.3102 17.4719C17.1157 17.0613 16.8023 16.3427 16.6132 15.8619C16.4296 15.3864 16.2026 14.7543 16.1108 14.4572C16.019 14.16 15.8947 13.7116 15.8299 13.4577C15.765 13.2092 15.6624 12.7337 15.603 12.4042C15.4949 11.8369 15.4895 11.5884 15.4679 6.01824L15.4463 0.221191ZM7.91498 0.280621L7.94199 1.34494C7.9582 1.92843 7.98521 3.36013 7.99602 4.5163C8.01222 5.67247 8.02303 7.06095 8.02303 7.59581C8.01763 8.47104 8.00142 8.62232 7.87176 9.11936C7.79072 9.42731 7.63404 9.88654 7.52599 10.1459C7.41253 10.4106 7.18022 10.8698 7.01273 11.1724C6.83985 11.4803 6.68857 11.7288 6.67237 11.7288C6.66156 11.7288 6.63995 9.29765 6.62374 0.923536L7.91498 0.280621ZM17.0293 0.334647C17.0563 0.334647 17.3426 0.464311 18.2665 0.928939V6.33159C18.2665 9.30305 18.2557 11.7342 18.2394 11.7342C18.2232 11.7342 18.1152 11.5668 18.0017 11.3669C17.8883 11.167 17.7208 10.859 17.6289 10.6807C17.5371 10.5024 17.3912 10.1729 17.3048 9.95137C17.2183 9.72446 17.0887 9.32466 17.013 9.05993C16.8888 8.5845 16.8888 8.51967 16.8996 6.57471C16.905 5.47257 16.9266 3.61946 16.9482 2.45249C16.9644 1.28551 17.0022 0.334647 17.0293 0.334647ZM6.43465 0.934342V12.1124L6.14831 12.5014C5.98623 12.7175 5.67288 13.1119 5.45137 13.3821C5.22446 13.6468 4.94892 13.9493 4.64637 14.2465L4.64097 7.62283C4.63557 3.97604 4.65177 0.982965 4.67879 0.961355C4.7058 0.939744 5.111 0.928939 6.43465 0.934342ZM18.4826 0.923536L20.2384 0.955952L20.26 14.2465L19.8764 13.8413C19.6657 13.6144 19.266 13.1443 18.4826 12.1394V0.923536ZM9.67084 1.30172H15.2356L15.2302 9.64882L15.1059 9.29765C15.0411 9.10315 14.8898 8.76279 14.7817 8.54128C14.6683 8.31977 14.4738 7.99021 14.3441 7.81192C14.2199 7.63363 13.9227 7.30407 13.6904 7.07716C13.4581 6.85025 13.0853 6.5477 12.4748 6.1371L12.2803 6.24515C12.1723 6.30458 11.9616 6.44505 11.8103 6.5585C11.659 6.67196 11.3727 6.92588 11.1674 7.12578C10.9621 7.32568 10.6919 7.63363 10.5623 7.81192C10.438 7.99021 10.2381 8.31977 10.1301 8.54128C10.0166 8.76279 9.87074 9.10315 9.68164 9.64882L9.67084 1.30172Z" fill="#F9F9F9"></path>
                                <path d="M11.7397 3.1014C11.864 2.96633 12.0639 2.78264 12.1773 2.6962C12.2962 2.61516 12.4151 2.54492 12.4475 2.54492C12.4799 2.54492 12.6041 2.60975 12.723 2.6962C12.8419 2.78264 13.0418 2.96633 13.1714 3.1014C13.2957 3.24186 13.4578 3.47418 13.5334 3.62545C13.609 3.77132 13.7063 4.03605 13.7495 4.20354C13.7927 4.37642 13.8305 4.60874 13.8305 4.92209H11.0752V4.71679C11.0752 4.60874 11.113 4.37642 11.1562 4.20354C11.1995 4.03605 11.2967 3.77132 11.3723 3.62545C11.448 3.47418 11.6101 3.24186 11.7397 3.1014Z" fill="black"></path>
                                <path d="M11.8431 3.31768C11.9403 3.19342 12.1078 3.03134 12.2104 2.9557C12.3131 2.87466 12.4211 2.81523 12.4536 2.81523C12.4806 2.80983 12.594 2.88007 12.7021 2.96111C12.8101 3.04215 12.9776 3.20963 13.0749 3.32849C13.1667 3.44734 13.2964 3.63644 13.3504 3.74989C13.4044 3.85795 13.4909 4.10107 13.5341 4.29016C13.5773 4.47385 13.6151 4.64133 13.6151 4.66834C13.6151 4.68995 13.0911 4.70616 12.4536 4.70616C11.5621 4.70616 11.292 4.68995 11.292 4.64133C11.292 4.60351 11.3298 4.42522 11.3784 4.24694C11.4271 4.06865 11.5081 3.83634 11.5621 3.73368C11.6162 3.63103 11.7404 3.44194 11.8431 3.31768Z" fill="#F9F9F9"></path>
                              </svg>

                              <div>

                                <p class="font-bold">تهران</p>
                                <p class="leading-relaxed">همه فرودگاه ها</p>

                              </div>
                            </div>
                            <div class="flex  gap-1">
                              <div class="bg-gray-tag h-fit flex items-center gap-1 rounded-[4px] p-0.5 px-1">
                                <p class="text-tiny font-bold text-gray-700">
                                  THRC
                                </p>
                                <span class="size-[4px] rounded-full bg-gray-700"></span>
                              </div>
                              <input type="radio" id="route-${routes}-from-tehran-3" name="route-${routes}-from" class="radio-hidden  hidden w-full">
                              <label for="route-${routes}-from-tehran-3" class="radio radio--black mt-0.5 aspect-square"></label>
                            </div>
                          </div>
                          </label>

                        </div>

                        <!-- Hidden select for form submission -->
                        <select id='route-${routes}-from-hidden' class="hidden-select hidden">
                 <option value=''></option>
                        <option value="تهران-همه فرودگاه ها">تهران</option>

                      </select>
                      </div>
                      <div id="routes-${routes}" class="custom-select swap-box *:text-tiny group relative w-[45%] px-5 *:text-black">
                        <div class="select-trigger">
                          <div class="input rounded-xxl relative flex min-h-[3.25rem] items-center justify-between bg-white">
                            <div class="flex items-center gap-3">
                              <div class="city-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path opacity="0.4" d="M20.6201 8.45C19.5701 3.83 15.5401 1.75 12.0001 1.75C12.0001 1.75 12.0001 1.75 11.9901 1.75C8.4601 1.75 4.4201 3.82 3.3701 8.44C2.2001 13.6 5.3601 17.97 8.2201 20.72C9.2801 21.74 10.6401 22.25 12.0001 22.25C13.3601 22.25 14.7201 21.74 15.7701 20.72C18.6301 17.97 21.7901 13.61 20.6201 8.45Z" fill="black"></path>
                                  <path d="M12.0001 13.4602C13.7398 13.4602 15.1501 12.0499 15.1501 10.3102C15.1501 8.57046 13.7398 7.16016 12.0001 7.16016C10.2604 7.16016 8.8501 8.57046 8.8501 10.3102C8.8501 12.0499 10.2604 13.4602 12.0001 13.4602Z" fill="black"></path>
                                </svg>
                              </div>

                              <span                                 class="selected-value max-w-[15ch] overflow-hidden text-sm text-nowrap text-ellipsis text-gray-500 group-[.filled]:text-xs group-[.filled]:text-black xl:max-w-full"
>به:</span>
                            </div>

                            <div class="group-[.open]:rotate-180">
                              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14.94 6.71249L10.05 11.6025C9.4725 12.18 8.5275 12.18 7.95 11.6025L3.06 6.71249" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                              </svg>
                            </div>
                          </div>
                        </div>
                        <div dir="ltr" class="options-list *:*:text-tiny    max-h-[17.4375rem] overflow-y-auto *:border-b *:border-b-gray-tag *:py-2 absolute top-full right-0 left-0 z-50 mt-[0.25rem] hidden rounded-l-2xl rounded-r-xl bg-white !p-4 !pb-5 shadow-md *:cursor-pointer *:!text-sm">
                        <label tabindex="0" for="route-${routes}-to-tehran" data-value="تهران-همه فرودگاه ها" class="option block pb-2">
                      <div class="flex  justify-between">

                        <div class="flex gap-2">
                          <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6.56422 0.702345L7.26657 0.356575L7.96891 0.0108053L9.64374 0.0324159L9.67075 1.08593H15.2355L15.2625 0.0324159L16.8833 0L18.2826 0.680734L20.449 0.734761L20.4761 14.5385L21.1622 15.1815L21.2341 15.2473C21.609 15.5906 22.0864 16.0277 22.34 16.2458C22.6101 16.4781 23.118 16.8995 23.4745 17.1858C23.8311 17.4668 24.2957 17.8234 24.5118 17.9692C24.7388 18.1259 24.9008 18.2772 24.9062 18.3366C24.9062 18.423 24.6955 18.4285 17.5316 18.4339L17.094 17.5262C16.8509 17.0292 16.5159 16.2674 16.3538 15.8352C16.1863 15.403 15.954 14.7222 15.8352 14.3224C15.7109 13.9226 15.5542 13.3013 15.4786 12.9448C15.4084 12.5882 15.3111 11.8966 15.2625 11.405C15.2139 10.9134 15.1328 10.3083 15.0788 10.0543C15.0194 9.80041 14.9005 9.40062 14.8087 9.1629C14.7168 8.92518 14.5331 8.547 14.4035 8.32549C14.2738 8.10398 14.0469 7.78522 13.901 7.61774C13.7606 7.45566 13.5336 7.21794 13.3986 7.09909C13.2635 6.98023 13.0096 6.78033 12.8313 6.65607C12.653 6.53181 12.4801 6.43456 12.4531 6.43456C12.4261 6.42916 12.2316 6.54802 12.0209 6.69389C11.8102 6.83976 11.5022 7.09909 11.3294 7.26657C11.1619 7.43405 10.908 7.72039 10.7729 7.90408C10.6378 8.09317 10.4433 8.40113 10.3461 8.59562C10.2488 8.79012 10.1084 9.11428 10.0327 9.32498C9.95709 9.53568 9.85984 9.88686 9.81662 10.1084C9.768 10.3299 9.69236 10.9026 9.64374 11.378C9.60052 11.8534 9.52488 12.4369 9.47625 12.6746C9.43303 12.9123 9.34119 13.3392 9.27095 13.6201C9.19532 13.901 9.04944 14.4143 8.93599 14.7546C8.82794 15.095 8.60643 15.7055 8.44435 16.1053C8.28227 16.5051 7.97972 17.1966 7.37462 18.4339L3.69001 18.4285C0.210704 18.4285 0 18.423 0 18.3312C0 18.2826 0.124261 18.1583 0.280938 18.0503C0.437615 17.9476 0.853619 17.6343 1.2156 17.3533C1.57217 17.0724 2.10703 16.6402 2.40418 16.3862C2.70133 16.1269 3.27941 15.6083 4.43018 14.5385L4.45719 0.734761L6.56422 0.702345Z" fill="black"></path>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M8.14729 0.221191H9.46014L9.43852 6.01824C9.41691 11.583 9.41151 11.8315 9.30886 12.4042C9.24403 12.7337 9.14138 13.2038 9.07655 13.4577C9.01712 13.7116 8.88745 14.16 8.79561 14.4572C8.70917 14.7543 8.47685 15.3972 8.28236 15.8889C8.08786 16.3805 7.77451 17.1045 7.23964 18.212H5.45677C4.47889 18.212 3.67389 18.2012 3.67389 18.185C3.67389 18.1688 3.84678 17.9689 4.05748 17.7366C4.26819 17.5097 4.68959 17.0126 4.99214 16.6399C5.28929 16.2671 5.73771 15.6836 5.97542 15.3432C6.21854 15.0028 6.61294 14.4032 6.85606 14.0142C7.09377 13.6198 7.43954 13.0093 7.61243 12.6635C7.79072 12.3123 7.92038 12.0098 7.90957 11.9882C7.89877 11.9612 7.85014 11.9449 7.80692 11.9449C7.7583 11.9449 7.61783 12.1557 7.46115 12.4744C7.31528 12.7607 7.07216 13.22 6.91549 13.4847C6.75341 13.7494 6.45626 14.2249 6.25096 14.5382C6.04566 14.8516 5.62965 15.4351 5.32711 15.8349C5.02996 16.2347 4.55993 16.8181 4.2898 17.1315C4.01426 17.4448 3.6847 17.8176 3.32272 18.2174L0.486328 18.185L1.0374 17.769C1.34535 17.5421 1.8586 17.1315 2.18816 16.8614C2.51232 16.5912 3.12282 16.0564 3.53883 15.6782C3.95483 15.2946 4.59234 14.6571 4.95432 14.2627C5.3163 13.8629 5.81334 13.2848 6.05646 12.9715C6.29958 12.6581 6.64535 12.1827 6.82364 11.9179C6.99653 11.6532 7.28287 11.1508 7.45575 10.8104C7.62864 10.47 7.83934 9.96758 7.93118 9.70285C8.01763 9.43812 8.12568 9.07074 8.1635 8.89245C8.22293 8.63853 8.23914 8.02802 8.22833 6.1371C8.22293 4.79724 8.20132 2.92252 8.17971 1.96085L8.14729 0.221191ZM15.4463 0.221191H16.7321L16.7105 1.8582C16.6997 2.75504 16.6889 4.64596 16.6781 6.06146C16.6673 8.53587 16.6727 8.64393 16.7861 9.08154C16.851 9.33547 16.9698 9.71365 17.0455 9.91895C17.1265 10.1297 17.3102 10.5403 17.4615 10.8428C17.6073 11.1346 17.9099 11.6478 18.126 11.972C18.3421 12.3015 18.6933 12.7878 18.9094 13.0579C19.1201 13.3226 19.5847 13.8575 19.9359 14.2411C20.2871 14.6301 20.9246 15.2676 21.3514 15.6566C21.7782 16.051 22.3563 16.5588 22.6372 16.7965C22.9235 17.0288 23.3828 17.4016 23.6691 17.6231C23.9501 17.8446 24.2418 18.0662 24.3174 18.1148C24.4417 18.2066 24.3823 18.2066 21.5567 18.212L21.0488 17.6339C20.7679 17.3152 20.3087 16.7695 20.0331 16.4237C19.7576 16.0834 19.3254 15.5107 19.0769 15.1541C18.8229 14.803 18.4231 14.1979 18.1908 13.8089C17.9585 13.4253 17.6343 12.8472 17.4723 12.5284C17.2994 12.1773 17.1481 11.9449 17.0995 11.9449C17.0563 11.9449 17.0076 11.9666 16.9968 11.9882C16.986 12.0098 17.1157 12.3123 17.294 12.6635C17.4723 13.0147 17.7856 13.582 17.9963 13.9331C18.207 14.2843 18.6176 14.8948 18.904 15.2946C19.1849 15.6998 19.6549 16.3157 19.9413 16.6723C20.233 17.0342 20.6382 17.5097 20.8489 17.742C21.0596 17.9743 21.2325 18.1742 21.2325 18.185C21.2325 18.2012 20.4329 18.212 17.6668 18.212L17.3102 17.4719C17.1157 17.0613 16.8023 16.3427 16.6132 15.8619C16.4296 15.3864 16.2026 14.7543 16.1108 14.4572C16.019 14.16 15.8947 13.7116 15.8299 13.4577C15.765 13.2092 15.6624 12.7337 15.603 12.4042C15.4949 11.8369 15.4895 11.5884 15.4679 6.01824L15.4463 0.221191ZM7.91498 0.280621L7.94199 1.34494C7.9582 1.92843 7.98521 3.36013 7.99602 4.5163C8.01222 5.67247 8.02303 7.06095 8.02303 7.59581C8.01763 8.47104 8.00142 8.62232 7.87176 9.11936C7.79072 9.42731 7.63404 9.88654 7.52599 10.1459C7.41253 10.4106 7.18022 10.8698 7.01273 11.1724C6.83985 11.4803 6.68857 11.7288 6.67237 11.7288C6.66156 11.7288 6.63995 9.29765 6.62374 0.923536L7.91498 0.280621ZM17.0293 0.334647C17.0563 0.334647 17.3426 0.464311 18.2665 0.928939V6.33159C18.2665 9.30305 18.2557 11.7342 18.2394 11.7342C18.2232 11.7342 18.1152 11.5668 18.0017 11.3669C17.8883 11.167 17.7208 10.859 17.6289 10.6807C17.5371 10.5024 17.3912 10.1729 17.3048 9.95137C17.2183 9.72446 17.0887 9.32466 17.013 9.05993C16.8888 8.5845 16.8888 8.51967 16.8996 6.57471C16.905 5.47257 16.9266 3.61946 16.9482 2.45249C16.9644 1.28551 17.0022 0.334647 17.0293 0.334647ZM6.43465 0.934342V12.1124L6.14831 12.5014C5.98623 12.7175 5.67288 13.1119 5.45137 13.3821C5.22446 13.6468 4.94892 13.9493 4.64637 14.2465L4.64097 7.62283C4.63557 3.97604 4.65177 0.982965 4.67879 0.961355C4.7058 0.939744 5.111 0.928939 6.43465 0.934342ZM18.4826 0.923536L20.2384 0.955952L20.26 14.2465L19.8764 13.8413C19.6657 13.6144 19.266 13.1443 18.4826 12.1394V0.923536ZM9.67084 1.30172H15.2356L15.2302 9.64882L15.1059 9.29765C15.0411 9.10315 14.8898 8.76279 14.7817 8.54128C14.6683 8.31977 14.4738 7.99021 14.3441 7.81192C14.2199 7.63363 13.9227 7.30407 13.6904 7.07716C13.4581 6.85025 13.0853 6.5477 12.4748 6.1371L12.2803 6.24515C12.1723 6.30458 11.9616 6.44505 11.8103 6.5585C11.659 6.67196 11.3727 6.92588 11.1674 7.12578C10.9621 7.32568 10.6919 7.63363 10.5623 7.81192C10.438 7.99021 10.2381 8.31977 10.1301 8.54128C10.0166 8.76279 9.87074 9.10315 9.68164 9.64882L9.67084 1.30172Z" fill="#F9F9F9"></path>
                            <path d="M11.7397 3.1014C11.864 2.96633 12.0639 2.78264 12.1773 2.6962C12.2962 2.61516 12.4151 2.54492 12.4475 2.54492C12.4799 2.54492 12.6041 2.60975 12.723 2.6962C12.8419 2.78264 13.0418 2.96633 13.1714 3.1014C13.2957 3.24186 13.4578 3.47418 13.5334 3.62545C13.609 3.77132 13.7063 4.03605 13.7495 4.20354C13.7927 4.37642 13.8305 4.60874 13.8305 4.92209H11.0752V4.71679C11.0752 4.60874 11.113 4.37642 11.1562 4.20354C11.1995 4.03605 11.2967 3.77132 11.3723 3.62545C11.448 3.47418 11.6101 3.24186 11.7397 3.1014Z" fill="black"></path>
                            <path d="M11.8431 3.31768C11.9403 3.19342 12.1078 3.03134 12.2104 2.9557C12.3131 2.87466 12.4211 2.81523 12.4536 2.81523C12.4806 2.80983 12.594 2.88007 12.7021 2.96111C12.8101 3.04215 12.9776 3.20963 13.0749 3.32849C13.1667 3.44734 13.2964 3.63644 13.3504 3.74989C13.4044 3.85795 13.4909 4.10107 13.5341 4.29016C13.5773 4.47385 13.6151 4.64133 13.6151 4.66834C13.6151 4.68995 13.0911 4.70616 12.4536 4.70616C11.5621 4.70616 11.292 4.68995 11.292 4.64133C11.292 4.60351 11.3298 4.42522 11.3784 4.24694C11.4271 4.06865 11.5081 3.83634 11.5621 3.73368C11.6162 3.63103 11.7404 3.44194 11.8431 3.31768Z" fill="#F9F9F9"></path>
                          </svg>

                          <div>

                            <p class="font-bold">تهران</p>
                            <p class="leading-relaxed">همه فرودگاه ها</p>

                          </div>
                        </div>
                        <div class="flex  gap-1">
                          <div class="bg-gray-tag h-fit flex items-center gap-1 rounded-[4px] p-0.5 px-1">
                            <p class="text-tiny font-bold text-gray-700">
                              THRC
                            </p>
                            <span class="size-[4px] rounded-full bg-gray-700"></span>
                          </div>
                          <input type="radio" id="route-${routes}-to-tehran" name="route-${routes}-to" class="radio-hidden  hidden w-full">
                          <label for="route-${routes}-to-tehran" class="radio radio--black mt-0.5 aspect-square"></label>
                        </div>
                      </div>
                      </label>
                      <label tabindex="0" for="route-${routes}-to-shiraz" data-value="شیراز-فرودگاه شهید ممد گلی" class="option block pb-2">
                    <div class="flex  justify-between">

                      <div class="flex gap-2">
                        <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M6.56422 0.702345L7.26657 0.356575L7.96891 0.0108053L9.64374 0.0324159L9.67075 1.08593H15.2355L15.2625 0.0324159L16.8833 0L18.2826 0.680734L20.449 0.734761L20.4761 14.5385L21.1622 15.1815L21.2341 15.2473C21.609 15.5906 22.0864 16.0277 22.34 16.2458C22.6101 16.4781 23.118 16.8995 23.4745 17.1858C23.8311 17.4668 24.2957 17.8234 24.5118 17.9692C24.7388 18.1259 24.9008 18.2772 24.9062 18.3366C24.9062 18.423 24.6955 18.4285 17.5316 18.4339L17.094 17.5262C16.8509 17.0292 16.5159 16.2674 16.3538 15.8352C16.1863 15.403 15.954 14.7222 15.8352 14.3224C15.7109 13.9226 15.5542 13.3013 15.4786 12.9448C15.4084 12.5882 15.3111 11.8966 15.2625 11.405C15.2139 10.9134 15.1328 10.3083 15.0788 10.0543C15.0194 9.80041 14.9005 9.40062 14.8087 9.1629C14.7168 8.92518 14.5331 8.547 14.4035 8.32549C14.2738 8.10398 14.0469 7.78522 13.901 7.61774C13.7606 7.45566 13.5336 7.21794 13.3986 7.09909C13.2635 6.98023 13.0096 6.78033 12.8313 6.65607C12.653 6.53181 12.4801 6.43456 12.4531 6.43456C12.4261 6.42916 12.2316 6.54802 12.0209 6.69389C11.8102 6.83976 11.5022 7.09909 11.3294 7.26657C11.1619 7.43405 10.908 7.72039 10.7729 7.90408C10.6378 8.09317 10.4433 8.40113 10.3461 8.59562C10.2488 8.79012 10.1084 9.11428 10.0327 9.32498C9.95709 9.53568 9.85984 9.88686 9.81662 10.1084C9.768 10.3299 9.69236 10.9026 9.64374 11.378C9.60052 11.8534 9.52488 12.4369 9.47625 12.6746C9.43303 12.9123 9.34119 13.3392 9.27095 13.6201C9.19532 13.901 9.04944 14.4143 8.93599 14.7546C8.82794 15.095 8.60643 15.7055 8.44435 16.1053C8.28227 16.5051 7.97972 17.1966 7.37462 18.4339L3.69001 18.4285C0.210704 18.4285 0 18.423 0 18.3312C0 18.2826 0.124261 18.1583 0.280938 18.0503C0.437615 17.9476 0.853619 17.6343 1.2156 17.3533C1.57217 17.0724 2.10703 16.6402 2.40418 16.3862C2.70133 16.1269 3.27941 15.6083 4.43018 14.5385L4.45719 0.734761L6.56422 0.702345Z" fill="black"></path>
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M8.14729 0.221191H9.46014L9.43852 6.01824C9.41691 11.583 9.41151 11.8315 9.30886 12.4042C9.24403 12.7337 9.14138 13.2038 9.07655 13.4577C9.01712 13.7116 8.88745 14.16 8.79561 14.4572C8.70917 14.7543 8.47685 15.3972 8.28236 15.8889C8.08786 16.3805 7.77451 17.1045 7.23964 18.212H5.45677C4.47889 18.212 3.67389 18.2012 3.67389 18.185C3.67389 18.1688 3.84678 17.9689 4.05748 17.7366C4.26819 17.5097 4.68959 17.0126 4.99214 16.6399C5.28929 16.2671 5.73771 15.6836 5.97542 15.3432C6.21854 15.0028 6.61294 14.4032 6.85606 14.0142C7.09377 13.6198 7.43954 13.0093 7.61243 12.6635C7.79072 12.3123 7.92038 12.0098 7.90957 11.9882C7.89877 11.9612 7.85014 11.9449 7.80692 11.9449C7.7583 11.9449 7.61783 12.1557 7.46115 12.4744C7.31528 12.7607 7.07216 13.22 6.91549 13.4847C6.75341 13.7494 6.45626 14.2249 6.25096 14.5382C6.04566 14.8516 5.62965 15.4351 5.32711 15.8349C5.02996 16.2347 4.55993 16.8181 4.2898 17.1315C4.01426 17.4448 3.6847 17.8176 3.32272 18.2174L0.486328 18.185L1.0374 17.769C1.34535 17.5421 1.8586 17.1315 2.18816 16.8614C2.51232 16.5912 3.12282 16.0564 3.53883 15.6782C3.95483 15.2946 4.59234 14.6571 4.95432 14.2627C5.3163 13.8629 5.81334 13.2848 6.05646 12.9715C6.29958 12.6581 6.64535 12.1827 6.82364 11.9179C6.99653 11.6532 7.28287 11.1508 7.45575 10.8104C7.62864 10.47 7.83934 9.96758 7.93118 9.70285C8.01763 9.43812 8.12568 9.07074 8.1635 8.89245C8.22293 8.63853 8.23914 8.02802 8.22833 6.1371C8.22293 4.79724 8.20132 2.92252 8.17971 1.96085L8.14729 0.221191ZM15.4463 0.221191H16.7321L16.7105 1.8582C16.6997 2.75504 16.6889 4.64596 16.6781 6.06146C16.6673 8.53587 16.6727 8.64393 16.7861 9.08154C16.851 9.33547 16.9698 9.71365 17.0455 9.91895C17.1265 10.1297 17.3102 10.5403 17.4615 10.8428C17.6073 11.1346 17.9099 11.6478 18.126 11.972C18.3421 12.3015 18.6933 12.7878 18.9094 13.0579C19.1201 13.3226 19.5847 13.8575 19.9359 14.2411C20.2871 14.6301 20.9246 15.2676 21.3514 15.6566C21.7782 16.051 22.3563 16.5588 22.6372 16.7965C22.9235 17.0288 23.3828 17.4016 23.6691 17.6231C23.9501 17.8446 24.2418 18.0662 24.3174 18.1148C24.4417 18.2066 24.3823 18.2066 21.5567 18.212L21.0488 17.6339C20.7679 17.3152 20.3087 16.7695 20.0331 16.4237C19.7576 16.0834 19.3254 15.5107 19.0769 15.1541C18.8229 14.803 18.4231 14.1979 18.1908 13.8089C17.9585 13.4253 17.6343 12.8472 17.4723 12.5284C17.2994 12.1773 17.1481 11.9449 17.0995 11.9449C17.0563 11.9449 17.0076 11.9666 16.9968 11.9882C16.986 12.0098 17.1157 12.3123 17.294 12.6635C17.4723 13.0147 17.7856 13.582 17.9963 13.9331C18.207 14.2843 18.6176 14.8948 18.904 15.2946C19.1849 15.6998 19.6549 16.3157 19.9413 16.6723C20.233 17.0342 20.6382 17.5097 20.8489 17.742C21.0596 17.9743 21.2325 18.1742 21.2325 18.185C21.2325 18.2012 20.4329 18.212 17.6668 18.212L17.3102 17.4719C17.1157 17.0613 16.8023 16.3427 16.6132 15.8619C16.4296 15.3864 16.2026 14.7543 16.1108 14.4572C16.019 14.16 15.8947 13.7116 15.8299 13.4577C15.765 13.2092 15.6624 12.7337 15.603 12.4042C15.4949 11.8369 15.4895 11.5884 15.4679 6.01824L15.4463 0.221191ZM7.91498 0.280621L7.94199 1.34494C7.9582 1.92843 7.98521 3.36013 7.99602 4.5163C8.01222 5.67247 8.02303 7.06095 8.02303 7.59581C8.01763 8.47104 8.00142 8.62232 7.87176 9.11936C7.79072 9.42731 7.63404 9.88654 7.52599 10.1459C7.41253 10.4106 7.18022 10.8698 7.01273 11.1724C6.83985 11.4803 6.68857 11.7288 6.67237 11.7288C6.66156 11.7288 6.63995 9.29765 6.62374 0.923536L7.91498 0.280621ZM17.0293 0.334647C17.0563 0.334647 17.3426 0.464311 18.2665 0.928939V6.33159C18.2665 9.30305 18.2557 11.7342 18.2394 11.7342C18.2232 11.7342 18.1152 11.5668 18.0017 11.3669C17.8883 11.167 17.7208 10.859 17.6289 10.6807C17.5371 10.5024 17.3912 10.1729 17.3048 9.95137C17.2183 9.72446 17.0887 9.32466 17.013 9.05993C16.8888 8.5845 16.8888 8.51967 16.8996 6.57471C16.905 5.47257 16.9266 3.61946 16.9482 2.45249C16.9644 1.28551 17.0022 0.334647 17.0293 0.334647ZM6.43465 0.934342V12.1124L6.14831 12.5014C5.98623 12.7175 5.67288 13.1119 5.45137 13.3821C5.22446 13.6468 4.94892 13.9493 4.64637 14.2465L4.64097 7.62283C4.63557 3.97604 4.65177 0.982965 4.67879 0.961355C4.7058 0.939744 5.111 0.928939 6.43465 0.934342ZM18.4826 0.923536L20.2384 0.955952L20.26 14.2465L19.8764 13.8413C19.6657 13.6144 19.266 13.1443 18.4826 12.1394V0.923536ZM9.67084 1.30172H15.2356L15.2302 9.64882L15.1059 9.29765C15.0411 9.10315 14.8898 8.76279 14.7817 8.54128C14.6683 8.31977 14.4738 7.99021 14.3441 7.81192C14.2199 7.63363 13.9227 7.30407 13.6904 7.07716C13.4581 6.85025 13.0853 6.5477 12.4748 6.1371L12.2803 6.24515C12.1723 6.30458 11.9616 6.44505 11.8103 6.5585C11.659 6.67196 11.3727 6.92588 11.1674 7.12578C10.9621 7.32568 10.6919 7.63363 10.5623 7.81192C10.438 7.99021 10.2381 8.31977 10.1301 8.54128C10.0166 8.76279 9.87074 9.10315 9.68164 9.64882L9.67084 1.30172Z" fill="#F9F9F9"></path>
                          <path d="M11.7397 3.1014C11.864 2.96633 12.0639 2.78264 12.1773 2.6962C12.2962 2.61516 12.4151 2.54492 12.4475 2.54492C12.4799 2.54492 12.6041 2.60975 12.723 2.6962C12.8419 2.78264 13.0418 2.96633 13.1714 3.1014C13.2957 3.24186 13.4578 3.47418 13.5334 3.62545C13.609 3.77132 13.7063 4.03605 13.7495 4.20354C13.7927 4.37642 13.8305 4.60874 13.8305 4.92209H11.0752V4.71679C11.0752 4.60874 11.113 4.37642 11.1562 4.20354C11.1995 4.03605 11.2967 3.77132 11.3723 3.62545C11.448 3.47418 11.6101 3.24186 11.7397 3.1014Z" fill="black"></path>
                          <path d="M11.8431 3.31768C11.9403 3.19342 12.1078 3.03134 12.2104 2.9557C12.3131 2.87466 12.4211 2.81523 12.4536 2.81523C12.4806 2.80983 12.594 2.88007 12.7021 2.96111C12.8101 3.04215 12.9776 3.20963 13.0749 3.32849C13.1667 3.44734 13.2964 3.63644 13.3504 3.74989C13.4044 3.85795 13.4909 4.10107 13.5341 4.29016C13.5773 4.47385 13.6151 4.64133 13.6151 4.66834C13.6151 4.68995 13.0911 4.70616 12.4536 4.70616C11.5621 4.70616 11.292 4.68995 11.292 4.64133C11.292 4.60351 11.3298 4.42522 11.3784 4.24694C11.4271 4.06865 11.5081 3.83634 11.5621 3.73368C11.6162 3.63103 11.7404 3.44194 11.8431 3.31768Z" fill="#F9F9F9"></path>
                        </svg>

                        <div>

                          <p class="font-bold">شیراز</p>

                          <p class="leading-relaxed">همه فرودگاه ها</p>

                        </div>
                      </div>
                      <div class="flex  gap-1">
                        <div class="bg-gray-tag h-fit flex items-center gap-1 rounded-[4px] p-0.5 px-1">
                          <p class="text-tiny font-bold text-gray-700">
                            THRC
                          </p>
                          <span class="size-[4px] rounded-full bg-gray-700"></span>
                        </div>
                        <input type="radio" id="route-${routes}-to-shiraz" name="route-${routes}-to" class="radio-hidden  hidden w-full">
                        <label for="route-${routes}-to-shiraz" class="radio radio--black mt-0.5 aspect-square"></label>
                      </div>
                    </div>
                    </label>

                        </div>

                        <select id='route-${routes}-to-hidden' class="hidden-select hidden" >
                        <option value=''></option>
                          <option value="تهران-همه فرودگاه ها">تهران</option>
                          <option value="شیراز-فرودگاه شهید ممد گلی">
                            شیراز
                          </option>
                        </select>
                      </div>

                      <div class="bg-gray-150 absolute top-0 right-0 bottom-0 left-0 z-50 m-auto flex size-[3.875rem] items-center justify-center rounded-full">
                        <button class="input-swap">
                          <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path opacity="0.4" d="M19.9997 36.6668C29.2044 36.6668 36.6663 29.2049 36.6663 20.0002C36.6663 10.7954 29.2044 3.3335 19.9997 3.3335C10.7949 3.3335 3.33301 10.7954 3.33301 20.0002C3.33301 29.2049 10.7949 36.6668 19.9997 36.6668Z" fill="black"></path>
                            <path d="M29.7504 22.5499C29.6171 22.2499 29.3837 21.9999 29.0671 21.8666C28.9171 21.7999 28.7504 21.7666 28.5837 21.7666H11.4004C10.7171 21.7666 10.1504 22.3333 10.1504 23.0166C10.1504 23.6999 10.7171 24.2666 11.4004 24.2666H25.5671L22.6337 27.2C22.1504 27.6833 22.1504 28.4833 22.6337 28.9666C22.8837 29.2166 23.2004 29.3333 23.517 29.3333C23.8337 29.3333 24.1504 29.2166 24.4004 28.9666L29.4671 23.8999C29.5837 23.7833 29.6671 23.6499 29.7337 23.4999C29.8671 23.1999 29.8671 22.8499 29.7504 22.5499Z" fill="black"></path>
                            <path d="M28.5837 15.7168H14.4171L17.3504 12.7835C17.8337 12.3002 17.8337 11.5001 17.3504 11.0168C16.8671 10.5335 16.0671 10.5335 15.5837 11.0168L10.5171 16.0835C10.4004 16.2001 10.3171 16.3335 10.2504 16.4835C10.1171 16.7835 10.1171 17.1335 10.2504 17.4335C10.3837 17.7335 10.6171 17.9835 10.9337 18.1168C11.0837 18.1835 11.2504 18.2168 11.4171 18.2168H28.6004C29.2837 18.2168 29.8504 17.6501 29.8504 16.9668C29.8504 16.2835 29.2837 15.7168 28.5837 15.7168Z" fill="black"></path>
                          </svg>
                        </button>
                      </div>
                    </div>
                    <div class="rounded-xxl   relative flex h-full items-center gap-2 bg-white px-3.5 py-3.5 *:text-black">
                      <div>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M16.7502 3.56V2C16.7502 1.59 16.4102 1.25 16.0002 1.25C15.5902 1.25 15.2502 1.59 15.2502 2V3.5H8.75023V2C8.75023 1.59 8.41023 1.25 8.00023 1.25C7.59023 1.25 7.25023 1.59 7.25023 2V3.56C4.55023 3.81 3.24023 5.42 3.04023 7.81C3.02023 8.1 3.26023 8.34 3.54023 8.34H20.4602C20.7502 8.34 20.9902 8.09 20.9602 7.81C20.7602 5.42 19.4502 3.81 16.7502 3.56Z" fill="black"></path>
                          <path opacity="0.4" d="M20 9.83984C20.55 9.83984 21 10.2898 21 10.8398V16.9998C21 19.9998 19.5 21.9998 16 21.9998H8C4.5 21.9998 3 19.9998 3 16.9998V10.8398C3 10.2898 3.45 9.83984 4 9.83984H20Z" fill="#292D32"></path>
                          <path d="M8.5 14.9999C8.24 14.9999 7.98 14.8899 7.79 14.7099C7.61 14.5199 7.5 14.2599 7.5 13.9999C7.5 13.7399 7.61 13.4799 7.79 13.2899C8.07 13.0099 8.51 12.9199 8.88 13.0799C9.01 13.1299 9.12 13.1999 9.21 13.2899C9.39 13.4799 9.5 13.7399 9.5 13.9999C9.5 14.2599 9.39 14.5199 9.21 14.7099C9.02 14.8899 8.76 14.9999 8.5 14.9999Z" fill="#292D32"></path>
                          <path d="M12 14.9999C11.74 14.9999 11.48 14.8899 11.29 14.7099C11.11 14.5199 11 14.2599 11 13.9999C11 13.7399 11.11 13.4799 11.29 13.2899C11.38 13.1999 11.49 13.1299 11.62 13.0799C11.99 12.9199 12.43 13.0099 12.71 13.2899C12.89 13.4799 13 13.7399 13 13.9999C13 14.2599 12.89 14.5199 12.71 14.7099C12.66 14.7499 12.61 14.7899 12.56 14.8299C12.5 14.8699 12.44 14.8999 12.38 14.9199C12.32 14.9499 12.26 14.9699 12.2 14.9799C12.13 14.9899 12.07 14.9999 12 14.9999Z" fill="#292D32"></path>
                          <path d="M15.5 15C15.24 15 14.98 14.89 14.79 14.71C14.61 14.52 14.5 14.26 14.5 14C14.5 13.74 14.61 13.48 14.79 13.29C14.89 13.2 14.99 13.13 15.12 13.08C15.3 13 15.5 12.98 15.7 13.02C15.76 13.03 15.82 13.05 15.88 13.08C15.94 13.1 16 13.13 16.06 13.17C16.11 13.21 16.16 13.25 16.21 13.29C16.39 13.48 16.5 13.74 16.5 14C16.5 14.26 16.39 14.52 16.21 14.71C16.16 14.75 16.11 14.79 16.06 14.83C16 14.87 15.94 14.9 15.88 14.92C15.82 14.95 15.76 14.97 15.7 14.98C15.63 14.99 15.56 15 15.5 15Z" fill="#292D32"></path>
                          <path d="M8.5 18.5C8.37 18.5 8.24 18.47 8.12 18.42C7.99 18.37 7.89 18.3 7.79 18.21C7.61 18.02 7.5 17.76 7.5 17.5C7.5 17.24 7.61 16.98 7.79 16.79C7.89 16.7 7.99 16.63 8.12 16.58C8.3 16.5 8.5 16.48 8.7 16.52C8.76 16.53 8.82 16.55 8.88 16.58C8.94 16.6 9 16.63 9.06 16.67C9.11 16.71 9.16 16.75 9.21 16.79C9.39 16.98 9.5 17.24 9.5 17.5C9.5 17.76 9.39 18.02 9.21 18.21C9.16 18.25 9.11 18.3 9.06 18.33C9 18.37 8.94 18.4 8.88 18.42C8.82 18.45 8.76 18.47 8.7 18.48C8.63 18.49 8.57 18.5 8.5 18.5Z" fill="#292D32"></path>
                          <path d="M12 18.5002C11.74 18.5002 11.48 18.3902 11.29 18.2102C11.11 18.0202 11 17.7602 11 17.5002C11 17.2402 11.11 16.9802 11.29 16.7902C11.66 16.4202 12.34 16.4202 12.71 16.7902C12.89 16.9802 13 17.2402 13 17.5002C13 17.7602 12.89 18.0202 12.71 18.2102C12.52 18.3902 12.26 18.5002 12 18.5002Z" fill="#292D32"></path>
                          <path d="M15.5 18.5002C15.24 18.5002 14.98 18.3902 14.79 18.2102C14.61 18.0202 14.5 17.7602 14.5 17.5002C14.5 17.2402 14.61 16.9802 14.79 16.7902C15.16 16.4202 15.84 16.4202 16.21 16.7902C16.39 16.9802 16.5 17.2402 16.5 17.5002C16.5 17.7602 16.39 18.0202 16.21 18.2102C16.02 18.3902 15.76 18.5002 15.5 18.5002Z" fill="#292D32"></path>
                        </svg>
                      </div>

                      <div class="dp peer min-w-0" id="route_${routes}_from_date_picker" style="direction: rtl">
                        <div class="date_picker_input peer min-w-0 ">
                          <input readonly="" type="text" placeholder="تاریخ رفت:"                               class="date max-w-[8ch] overflow-hidden overflow-ellipsis outline-none xl:max-w-full">
                        </div>
                        <div class="date_picker_calendar absolute right-0 z-[1000] mt-4 hidden">
                          <div class="calendar_header">
                            <div class="flex items-center">
                              <p class="fw-bold cal_label">تاریخ رفت</p>

                              <div class="select-container year-container relative flex items-center gap-2">
                                <div class="custom-select">
                                  <select name="" id=""></select>
                                <div class="select-value"></div><div class="select-items select-hide"></div></div>
                                <div class="dropdown-ico">
                                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13.2807 5.9668L8.93404 10.3135C8.4207 10.8268 7.5807 10.8268 7.06737 10.3135L2.7207 5.9668" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                  </svg>
                                </div>
                              </div>
                            </div>
                            <div>
                              <button class="change-calendar">
                                تقویم میلادی
                              </button>
                            </div>
                          </div>
                          <div class="whole-wrapper flex items-center" style="gap: 5px">
                            <div class="month-picker">
                              <div class="month-list-container">
                                <div class="selection-indicator"></div>
                                <div class="month-list"></div>
                              </div>
                            </div>
                            <div class="cal_wrapper">
                              <div class="cal_days"></div>
                              <div class="calendar_main"></div>
                            </div>
                          </div>
                          <div class="actions flex items-center">
                            <button class="dp-btn delete">حذف</button>
                            <button class="dp-btn select">انتخاب</button>
                          </div>
                        </div>
                      </div>

                      <div class="dp peer min-w-0 border-r border-r-gray-tag ps-2 pe-2 " id="route_${routes}_to_date_picker" style="direction: rtl">
                        <div class="date_picker_input peer min-w-0">
                          <input readonly="" type="text" placeholder="تاریخ برگشت:"                               class="date max-w-[10ch] overflow-hidden overflow-ellipsis outline-none xl:max-w-full">
                        </div>
                        <div class="date_picker_calendar absolute right-0 z-[1000] mt-4 hidden">
                          <div class="calendar_header">
                            <div class="flex items-center">
                              <p class="fw-bold cal_label">تاریخ رفت</p>

                              <div class="select-container year-container relative flex items-center gap-2">
                                <div class="custom-select">
                                  <select name="" id=""></select>
                                <div class="select-value"></div><div class="select-items select-hide"></div></div>
                                <div class="dropdown-ico">
                                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13.2807 5.9668L8.93404 10.3135C8.4207 10.8268 7.5807 10.8268 7.06737 10.3135L2.7207 5.9668" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                  </svg>
                                </div>
                              </div>
                            </div>
                            <div>
                              <button class="change-calendar">
                                تقویم میلادی
                              </button>
                            </div>
                          </div>
                          <div class="whole-wrapper flex items-center" style="gap: 5px">
                            <div class="month-picker">
                              <div class="month-list-container">
                                <div class="selection-indicator"></div>
                                <div class="month-list"></div>
                              </div>
                            </div>
                            <div class="cal_wrapper">
                              <div class="cal_days"></div>
                              <div class="calendar_main"></div>
                            </div>
                          </div>
                          <div class="actions flex items-center">
                            <button class="dp-btn delete">حذف</button>
                            <button class="dp-btn select">انتخاب</button>
                          </div>
                        </div>
                      </div>

                    </div>
                    <div class="rounded-xxl  relative flex h-full items-center gap-2 bg-white px-3.5 py-3.5 *:text-black">
                    <div>

                      <svg style="flex-basis: 100%;" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.4" d="M9 2C6.38 2 4.25 4.13 4.25 6.75C4.25 9.32 6.26 11.4 8.88 11.49C8.96 11.48 9.04 11.48 9.1 11.49C9.12 11.49 9.13 11.49 9.15 11.49C9.16 11.49 9.16 11.49 9.17 11.49C11.73 11.4 13.74 9.32 13.75 6.75C13.75 4.13 11.62 2 9 2Z" fill="black"></path>
                        <path d="M14.08 14.1499C11.29 12.2899 6.73996 12.2899 3.92996 14.1499C2.65996 14.9999 1.95996 16.1499 1.95996 17.3799C1.95996 18.6099 2.65996 19.7499 3.91996 20.5899C5.31996 21.5299 7.15996 21.9999 8.99996 21.9999C10.84 21.9999 12.68 21.5299 14.08 20.5899C15.34 19.7399 16.04 18.5999 16.04 17.3599C16.03 16.1299 15.34 14.9899 14.08 14.1499Z" fill="black"></path>
                        <path opacity="0.4" d="M19.9899 7.3401C20.1499 9.2801 18.7699 10.9801 16.8599 11.2101C16.8499 11.2101 16.8499 11.2101 16.8399 11.2101H16.8099C16.7499 11.2101 16.6899 11.2101 16.6399 11.2301C15.6699 11.2801 14.7799 10.9701 14.1099 10.4001C15.1399 9.4801 15.7299 8.1001 15.6099 6.6001C15.5399 5.7901 15.2599 5.0501 14.8399 4.4201C15.2199 4.2301 15.6599 4.1101 16.1099 4.0701C18.0699 3.9001 19.8199 5.3601 19.9899 7.3401Z" fill="#292D32"></path>
                        <path d="M21.9902 16.5899C21.9102 17.5599 21.2902 18.3999 20.2502 18.9699C19.2502 19.5199 17.9902 19.7799 16.7402 19.7499C17.4602 19.0999 17.8802 18.2899 17.9602 17.4299C18.0602 16.1899 17.4702 14.9999 16.2902 14.0499C15.6202 13.5199 14.8402 13.0999 13.9902 12.7899C16.2002 12.1499 18.9802 12.5799 20.6902 13.9599C21.6102 14.6999 22.0802 15.6299 21.9902 16.5899Z" fill="#292D32"></path>
                      </svg>
                    </div>

                      <div class="peer min-w-0">
                        <input readonly="" type="text" aria-expanded="false" aria-controls="dropdown-list-route${routes}" autocomplete="off" id="passengers-route${routes}" data-dropdown="dropdown-list-route${routes}" placeholder="مسافر:" class=" w-full overflow-ellipsis  outline-none dropdown-input">
                      </div>
                      <ul role="listbox" id="dropdown-list-route${routes}" class="bg-white z-[50] peer min-w-[14rem] shadow-[0px_0px_20px_0px_rgba(0,0,0,0.08)] py-7.5 px-4 hidden rounded-[22px] dropdown-list top-16 absolute left-0 right-0">
                        <li class="dropdown-item flex items-center justify-between py-2 border-b border-b-gray-tag cursor-pointer " role="option">
                          <div class="text-xs ">
                            <p class="font-bold">بزرگسال</p>
                            <p>(بالای 12 سال)</p>
                          </div>
                          <div class="flex items-center  gap-2">
                             <button aria-controls="adults-route${routes}" class="increment"><svg aria-label="increment adult" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path opacity="0.4" d="M12.7988 23.8994C18.5978 23.8994 23.2988 19.1984 23.2988 13.3994C23.2988 7.60042 18.5978 2.89941 12.7988 2.89941C6.99984 2.89941 2.29883 7.60042 2.29883 13.3994C2.29883 19.1984 6.99984 23.8994 12.7988 23.8994Z" fill="black"></path>
                              <path d="M17 12.6121H13.5875V9.19961C13.5875 8.76911 13.2305 8.41211 12.8 8.41211C12.3695 8.41211 12.0125 8.76911 12.0125 9.19961V12.6121H8.6C8.1695 12.6121 7.8125 12.9691 7.8125 13.3996C7.8125 13.8301 8.1695 14.1871 8.6 14.1871H12.0125V17.5996C12.0125 18.0301 12.3695 18.3871 12.8 18.3871C13.2305 18.3871 13.5875 18.0301 13.5875 17.5996V14.1871H17C17.4305 14.1871 17.7875 13.8301 17.7875 13.3996C17.7875 12.9691 17.4305 12.6121 17 12.6121Z" fill="black"></path>
                              </svg>
                              </button>
                          <input type="number" id="adults-route${routes}" min="0" readonly="" class="appearance-none outline-none h-fit w-[1ch]" value="0">
                              <button aria-controls="adults-route${routes}" class="decrement"><svg aria-label="decrement adult" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path opacity="0.4" d="M13.4004 23.8994C19.1994 23.8994 23.9004 19.1984 23.9004 13.3994C23.9004 7.60042 19.1994 2.89941 13.4004 2.89941C7.6014 2.89941 2.90039 7.60042 2.90039 13.3994C2.90039 19.1984 7.6014 23.8994 13.4004 23.8994Z" fill="#898989"></path>
                                <path d="M17.5156 14.1873H9.11563C8.68513 14.1873 8.32812 13.8303 8.32812 13.3998C8.32812 12.9693 8.68513 12.6123 9.11563 12.6123H17.5156C17.9461 12.6123 18.3031 12.9693 18.3031 13.3998C18.3031 13.8303 17.9566 14.1873 17.5156 14.1873Z" fill="#898989"></path>
                                </svg>

                                </button>
                          </div>
                        </li>
                        <li class="dropdown-item flex items-center justify-between py-2 border-b border-b-gray-tag cursor-pointer " role="option">
                          <div class="text-xs ">
                            <p class="font-bold">کودک</p>
                      <p>(از 2 تا 12 سال)</p>
                          </div>
                          <div class="flex items-center  gap-2">
                             <button aria-controls="child-route${routes}" class="increment"><svg aria-label="increment adult" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path opacity="0.4" d="M12.7988 23.8994C18.5978 23.8994 23.2988 19.1984 23.2988 13.3994C23.2988 7.60042 18.5978 2.89941 12.7988 2.89941C6.99984 2.89941 2.29883 7.60042 2.29883 13.3994C2.29883 19.1984 6.99984 23.8994 12.7988 23.8994Z" fill="black"></path>
                              <path d="M17 12.6121H13.5875V9.19961C13.5875 8.76911 13.2305 8.41211 12.8 8.41211C12.3695 8.41211 12.0125 8.76911 12.0125 9.19961V12.6121H8.6C8.1695 12.6121 7.8125 12.9691 7.8125 13.3996C7.8125 13.8301 8.1695 14.1871 8.6 14.1871H12.0125V17.5996C12.0125 18.0301 12.3695 18.3871 12.8 18.3871C13.2305 18.3871 13.5875 18.0301 13.5875 17.5996V14.1871H17C17.4305 14.1871 17.7875 13.8301 17.7875 13.3996C17.7875 12.9691 17.4305 12.6121 17 12.6121Z" fill="black"></path>
                              </svg>
                              </button>
                          <input type="number" id="child-route${routes}" min="0" readonly="" class="appearance-none outline-none h-fit w-[1ch]" value="0">
                              <button aria-controls="child-route${routes}" class="decrement"><svg aria-label="decrement adult" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path opacity="0.4" d="M13.4004 23.8994C19.1994 23.8994 23.9004 19.1984 23.9004 13.3994C23.9004 7.60042 19.1994 2.89941 13.4004 2.89941C7.6014 2.89941 2.90039 7.60042 2.90039 13.3994C2.90039 19.1984 7.6014 23.8994 13.4004 23.8994Z" fill="#898989"></path>
                                <path d="M17.5156 14.1873H9.11563C8.68513 14.1873 8.32812 13.8303 8.32812 13.3998C8.32812 12.9693 8.68513 12.6123 9.11563 12.6123H17.5156C17.9461 12.6123 18.3031 12.9693 18.3031 13.3998C18.3031 13.8303 17.9566 14.1873 17.5156 14.1873Z" fill="#898989"></path>
                                </svg>

                                </button>
                          </div>
                        </li>
                        <li class="dropdown-item flex items-center justify-between py-2  cursor-pointer " role="option">
                          <div class="text-xs ">
                            <p class="font-bold">نوزاد</p>
          <p>(زیر 2 سال)</p>
                          </div>
                          <div class="flex items-center  gap-2">
                             <button aria-controls="soChild-route${routes}" class="increment"><svg aria-label="increment adult" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path opacity="0.4" d="M12.7988 23.8994C18.5978 23.8994 23.2988 19.1984 23.2988 13.3994C23.2988 7.60042 18.5978 2.89941 12.7988 2.89941C6.99984 2.89941 2.29883 7.60042 2.29883 13.3994C2.29883 19.1984 6.99984 23.8994 12.7988 23.8994Z" fill="black"></path>
                              <path d="M17 12.6121H13.5875V9.19961C13.5875 8.76911 13.2305 8.41211 12.8 8.41211C12.3695 8.41211 12.0125 8.76911 12.0125 9.19961V12.6121H8.6C8.1695 12.6121 7.8125 12.9691 7.8125 13.3996C7.8125 13.8301 8.1695 14.1871 8.6 14.1871H12.0125V17.5996C12.0125 18.0301 12.3695 18.3871 12.8 18.3871C13.2305 18.3871 13.5875 18.0301 13.5875 17.5996V14.1871H17C17.4305 14.1871 17.7875 13.8301 17.7875 13.3996C17.7875 12.9691 17.4305 12.6121 17 12.6121Z" fill="black"></path>
                              </svg>
                              </button>
                          <input type="number" id="soChild-route${routes}" min="0" readonly="" class="appearance-none outline-none h-fit w-[1ch]" value="0">
                              <button aria-controls="soChild-route${routes}" class="decrement"><svg aria-label="decrement adult" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path opacity="0.4" d="M13.4004 23.8994C19.1994 23.8994 23.9004 19.1984 23.9004 13.3994C23.9004 7.60042 19.1994 2.89941 13.4004 2.89941C7.6014 2.89941 2.90039 7.60042 2.90039 13.3994C2.90039 19.1984 7.6014 23.8994 13.4004 23.8994Z" fill="#898989"></path>
                                <path d="M17.5156 14.1873H9.11563C8.68513 14.1873 8.32812 13.8303 8.32812 13.3998C8.32812 12.9693 8.68513 12.6123 9.11563 12.6123H17.5156C17.9461 12.6123 18.3031 12.9693 18.3031 13.3998C18.3031 13.8303 17.9566 14.1873 17.5156 14.1873Z" fill="#898989"></path>
                                </svg>

                                </button>
                          </div>
                        </li>

                      </ul>
                      <div class="peer-[.hidden]:rotate-180">
                        <svg width="16" height="16" class="rotate-180" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M13.2802 5.9668L8.93355 10.3135C8.42021 10.8268 7.58021 10.8268 7.06688 10.3135L2.72021 5.9668" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                      </div>

                    </div>

                    <button aria-controls='route-container-${routes}' class='bg-white delete-route rounded-full w-[2.875rem] aspect-square p-2'>
                    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M26.3371 6.5375C24.3246 6.3375 22.3121 6.1875 20.2871 6.075V6.0625L20.0121 4.4375C19.8246 3.2875 19.5496 1.5625 16.6246 1.5625H13.3496C10.4371 1.5625 10.1621 3.2125 9.96209 4.425L9.69959 6.025C8.53709 6.1 7.37459 6.175 6.21209 6.2875L3.66209 6.5375C3.13709 6.5875 2.76209 7.05 2.81209 7.5625C2.86209 8.075 3.31209 8.45 3.83709 8.4L6.38709 8.15C12.9371 7.5 19.5371 7.75 26.1621 8.4125C26.1996 8.4125 26.2246 8.4125 26.2621 8.4125C26.7371 8.4125 27.1496 8.05 27.1996 7.5625C27.2371 7.05 26.8621 6.5875 26.3371 6.5375Z" fill="#D70000"/>
<path opacity="0.3991" d="M24.0377 10.175C23.7377 9.8625 23.3252 9.6875 22.9002 9.6875H7.10018C6.67518 9.6875 6.25018 9.8625 5.96268 10.175C5.67518 10.4875 5.51268 10.9125 5.53768 11.35L6.31268 24.175C6.45018 26.075 6.62518 28.45 10.9877 28.45H19.0127C23.3752 28.45 23.5502 26.0875 23.6877 24.175L24.4627 11.3625C24.4877 10.9125 24.3252 10.4875 24.0377 10.175Z" fill="#D70000"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.9746 21.25C11.9746 20.7322 12.3943 20.3125 12.9121 20.3125H17.0746C17.5924 20.3125 18.0121 20.7322 18.0121 21.25C18.0121 21.7678 17.5924 22.1875 17.0746 22.1875H12.9121C12.3943 22.1875 11.9746 21.7678 11.9746 21.25Z" fill="#D70000"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.9375 16.25C10.9375 15.7322 11.3572 15.3125 11.875 15.3125H18.125C18.6428 15.3125 19.0625 15.7322 19.0625 16.25C19.0625 16.7678 18.6428 17.1875 18.125 17.1875H11.875C11.3572 17.1875 10.9375 16.7678 10.9375 16.25Z" fill="#D70000"/>
</svg>
</button></div>

                `,
  );
  new DatePicker(`route_${routes}_from_date_picker`);
  new DatePicker(`route_${routes}_to_date_picker`);
  addFieldToForm("multicity", `#route-${routes}-from-hidden`);
  addFieldToForm("multicity", `#route-${routes}-to-hidden`);
});

const validators = {
  outbound: createValidator(
    "#buy-ticket-outbound",
    "#outbound-from-hidden",
    "#outbound-to-hidden",
  ),
  roundTrip: createValidator(
    "#buy-ticket-roundTrip",
    "#roundTrip-from-hidden",
    "#roundTrip-to-hidden",
  ),
  flyStatus: createValidator(
    "#fly-status-search",
    "#fly-status-from-hidden",
    "#fly-status-to-hidden",
  ),
  multicity: createValidator(
    ".buy-ticket-multicity",
    "#multicity-from-hidden",
    "#multicity-to-hidden",
  ),
};

const err = document.getElementById("unselected-city-error");

// Generic function to create JustValidate instances
function createValidator(formId, fromField, toField) {
  const validator = new JustValidate(formId, {
    errorLabelStyle: { display: "none" }, // Hide default error messages
  });

  validator
    .addField(fromField, [{ rule: "required" }])
    .addField(toField, [{ rule: "required" }])
    .onValidate((info) => {
      handleValidationResult(info, fromField, toField);
    });

  return validator;
}

// Handles validation results dynamically
function handleValidationResult(info, fromField, toField) {
  if (!info.isSubmitted) return;
  if (info.isValid) {
    ticketOutboundValidateField("success");
  } else {
    if (info.fields[fromField] || info.fields[toField]) {
      ticketOutboundValidateField("error", "لطفا مبدا و مقصد را مشخص کنید");
    }
  }
}

// Handles UI updates for errors
function ticketOutboundValidateField(type, message = "") {
  if (type === "success") {
    err.classList.add("opacity-0"); // Hide error message
  } else {
    err.classList.remove("opacity-0"); // Show error message
    err.querySelector("p").textContent = message;
  }
}

function addFieldToForm(formKey, fieldId, rules = [{ rule: "required" }]) {
  if (validators[formKey]) {
    validators[formKey].addField(fieldId, rules);
  }
}

import myImage from "@assets/images/city.png";

const svgElements = document.querySelectorAll("object");

svgElements.forEach((svgElement) => {
  const originalSrc = svgElement.getAttribute("data");

  const svgObserver = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.setAttribute("data", originalSrc);
        } else {
          entry.target.setAttribute("data", "about:blank");
        }
      });
    },
    { threshold: 0.1 },
  );

  svgObserver.observe(svgElement);
});

const days = {
  0: "saturday",
  1: "sunday",
  2: "monday",
  3: "tuesday",
  4: "wednesday",
  5: "thursday",
  6: "friday",
};

const mapDays = document.querySelector(".map-day-container");
const mapContainer = document.getElementById("map-container");

mapDays.addEventListener("click", (ev) => {
  const target = ev.target;
  const selectedItem = target.closest("li");

  if (!selectedItem) return;

  const childArray = Array.from(mapDays.children);

  childArray.forEach((child) => {
    child.classList.remove("selected-day");
  });
  selectedItem.classList.add("selected-day");

  const targetDay = `data-${days[childArray.indexOf(selectedItem)]}`;
  const dayCities = mapContainer.getAttribute(targetDay);

  resetFlightPaths();

  let poses = null;
  JSON.parse(dayCities.replace(/'/g, '"')).map((city) => {
    poses = drawFlightPath("tehran", city, poses, true);
  });
});

function getCityCenter(cityId) {
  const cityPath = document.getElementById(cityId);

  const bbox = cityPath.getBBox();

  return {
    x: bbox.x + bbox.width / 3,
    y: bbox.y + bbox.height / 1.8,
  };
}

function drawFlightPath(fromCityId, toCityId, poses, highlight = false) {
  const fromCenter = getCityCenter(fromCityId);
  const toCenter = getCityCenter(toCityId);

  if (highlight) {
    document.getElementById(toCityId).setAttribute("fill", "#c6c6c6");
    document.getElementById(fromCityId).setAttribute("fill", "#C6C6C6");
    document.getElementById(fromCityId).setAttribute("stroke", "#000000");
    document.getElementById(fromCityId).setAttribute("stroke-width", "2");
  }

  const flightPath = document.createElementNS(
    "http://www.w3.org/2000/svg",
    "path",
  );
  const curveStrength = Math.abs(toCenter.x - fromCenter.x) / 3;
  const controlX = (fromCenter.x + toCenter.x) / 2;
  const controlY = (fromCenter.y + toCenter.y) / 2 - curveStrength;

  flightPath.setAttribute(
    "d",
    `M${fromCenter.x},${fromCenter.y} Q${controlX},${controlY} ${toCenter.x},${toCenter.y}`,
  );
  flightPath.setAttribute("class", "flight-path");
  flightPath.setAttribute("stroke-dasharray", "5,5");
  flightPath.setAttribute("stroke", "black");
  flightPath.setAttribute("stroke-width", "1");
  flightPath.setAttribute("fill", "none");

  const startCircle = document.createElementNS(
    "http://www.w3.org/2000/svg",
    "circle",
  );
  startCircle.setAttribute("cx", fromCenter.x);
  startCircle.setAttribute("cy", fromCenter.y);
  startCircle.setAttribute("r", "6");
  startCircle.setAttribute("fill", "black");

  const hole = document.createElementNS("http://www.w3.org/2000/svg", "circle");
  hole.setAttribute("cx", fromCenter.x);
  hole.setAttribute("cy", fromCenter.y);
  hole.setAttribute("r", "3");
  hole.setAttribute("fill", "white");
  const endCircle = document.createElementNS(
    "http://www.w3.org/2000/svg",
    "circle",
  );
  endCircle.setAttribute("cx", toCenter.x);
  endCircle.setAttribute("cy", toCenter.y);
  endCircle.setAttribute("r", "6");
  endCircle.setAttribute("fill", "black");

  const svg = container.querySelector("svg");
  svg.appendChild(startCircle);
  svg.appendChild(hole);
  svg.appendChild(endCircle);

  function getPointOnCurve(t) {
    const x =
      (1 - t) ** 2 * fromCenter.x +
      2 * (1 - t) * t * controlX +
      t ** 2 * toCenter.x;
    const y =
      (1 - t) ** 2 * fromCenter.y +
      2 * (1 - t) * t * controlY +
      t ** 2 * toCenter.y;
    return { x, y };
  }

  function getTangentAngle(t, deltaT = 0.001) {
    const p1 = getPointOnCurve(t);
    const p2 = getPointOnCurve(1.5);

    const dx = p2.x - p1.x;
    const dy = p2.y - p1.y;

    return Math.atan2(dy, dx) * (180 / Math.PI);
  }

  let t = 0.7;
  if (poses) {
    const distance = Math.sqrt(
      (poses.flightPos.x - fromCenter.x) ** 2 +
        (poses.flightPos.y - fromCenter.y) ** 2,
    );

    if (distance < 100) {
      t += 0.15;
    } else {
      t += distance / 5200;
    }
  }
  const flightPos = getPointOnCurve(t);
  const flightAngle = getTangentAngle(t);

  const flight = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  flight.innerHTML = `
<path style="transform-origin:center" fill-rule="evenodd" clip-rule="evenodd" d="M24.5857 14.6214L31.2548 13.6398C32.3548 13.4779 33.4498 12.8828 34.2989 11.9854C35.1481 11.088 35.6818 9.96176 35.7827 8.85453C35.8836 7.7473 35.5434 6.74974 34.837 6.08129C34.1306 5.41285 33.1157 5.12828 32.0158 5.29018L8.98595 8.67998C8.67796 8.72515 8.38396 8.68311 8.13688 8.55856C7.8898 8.43402 7.6994 8.23189 7.587 7.97481L6.97984 6.5913C6.86744 6.33422 6.67704 6.13209 6.42996 6.00755C6.18288 5.883 5.88888 5.84096 5.58089 5.88613L2.48691 6.34154C2.21226 6.38172 1.9356 6.48993 1.68174 6.65646C1.42789 6.82299 1.20479 7.04262 1.03246 7.29564C0.860135 7.54867 0.743978 7.82717 0.694415 8.10616C0.644853 8.38514 0.663435 8.65588 0.748493 8.89406L3.54268 16.7204C3.64329 17.0021 3.83282 17.2269 4.08775 17.3669C4.34267 17.5069 4.65178 17.5558 4.9767 17.5077L11.3853 16.5644C11.6562 16.5247 11.9169 16.5524 12.1446 16.6451C12.3722 16.7378 12.5599 16.8927 12.6912 17.0962C12.8225 17.2997 12.8934 17.5457 12.8978 17.8126C12.9021 18.0795 12.8398 18.3592 12.7162 18.6273L10.8776 22.6197C10.7544 22.8875 10.6924 23.1668 10.6968 23.4333C10.7013 23.6999 10.7722 23.9455 10.9033 24.1488C11.0343 24.352 11.2217 24.5068 11.4489 24.5996C11.6762 24.6924 11.9364 24.7204 12.207 24.6811L15.5946 24.1825C15.8434 24.1459 16.0941 24.0535 16.3283 23.9121C16.5624 23.7707 16.774 23.5839 16.9473 23.3655L23.2347 15.4381C23.4078 15.22 23.6191 15.0333 23.8529 14.892C24.0868 14.7506 24.3372 14.6582 24.5857 14.6214ZM13.9193 6.30631L21.7994 5.14642L18.9601 1.28079C18.8245 1.09613 18.6395 0.957292 18.4197 0.87526C18.1999 0.793228 17.9514 0.770256 17.6938 0.808165L14.5717 1.26772C14.289 1.30948 14.0044 1.42325 13.7449 1.59823C13.4854 1.77321 13.2596 2.0036 13.089 2.26753C12.9184 2.53147 12.8085 2.8202 12.7699 3.10632C12.7313 3.39244 12.7651 3.66647 12.8683 3.90241L13.9193 6.30631Z" fill="black"/>

`;
  flight.setAttribute("x", flightPos.x - 10);
  flight.setAttribute("y", flightPos.y - 50);
  flight.setAttribute("width", "40");
  flight.setAttribute("height", "35");
  flight
    .querySelector("path")
    .setAttribute("transform", `rotate(${flightAngle})`);

  svg.appendChild(flight);

  container.querySelector("svg").appendChild(flightPath);

  createCityLabel(toCityId, toCenter, poses);

  return { flightPos, toCenter };
}

const container = document.getElementById("map");
function createCityLabel(cityId, endPos, poses) {
  const el = document.getElementById(cityId);
  const cityLabel = document.createElement("div");
  cityLabel.classList.add("city-label");
  cityLabel.innerHTML = `
    <div class="label-box text-sm bg-[#DFDFDF]/40 py-1 border border-[#ABABAB] px-4 rounded-xl flex items-center gap-8.5">
      <img src=${myImage} alt="${cityId}" />
      <span>${el.getAttribute("data-name")}</span>
    </div>
  `;

  function isMoreThan100Apart(num1, num2) {
    return Math.abs(num1 - num2) > 100;
  }

  container.appendChild(cityLabel);

  let top = null;
  if (poses && !isMoreThan100Apart(poses.toCenter.y, endPos.y)) {
    cityLabel.style.left = `${endPos.x - 104}px`;
    cityLabel.style.top = `${endPos.y + 30}px`;
    top = endPos.y + 30;
  } else {
    cityLabel.style.left = `${endPos.x - 50}px`;
    cityLabel.style.top = `${endPos.y - 120}px`;
    top = endPos.y - 55;
  }

  cityLabel.style.position = "absolute";

  const lineX1 = endPos.x;
  const lineY1 = endPos.y;
  const lineX2 = endPos.x;
  const lineY2 = top;

  const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
  line.setAttribute("x1", lineX1);
  line.setAttribute("y1", lineY1);
  line.setAttribute("x2", lineX2);
  line.setAttribute("y2", lineY2);
  line.setAttribute("stroke", "#ABABAB");
  line.setAttribute("stroke-width", "2");

  container.querySelector("svg").appendChild(line);
}

function resetFlightPaths() {
  const svg = container.querySelector("svg");
  const labels = document.querySelectorAll(".city-label");

  // Only remove dynamically added elements
  svg
    .querySelectorAll("path.flight-path, circle, line, svg")
    .forEach((el) => el.remove());

  labels.forEach((label) => label.remove());
  document.querySelectorAll("[id]").forEach((city) => {
    if (
      city.getAttribute("fill") === "#C6C6C6" ||
      city.getAttribute("fill") === "#c6c6c6"
    ) {
      city.setAttribute("fill", "#EFEFEF");
    }
    city.removeAttribute("stroke");
    city.removeAttribute("stroke-width");
  });
}

function drawInitial() {
  setTimeout(() => {
    let poses = null;
    poses = drawFlightPath("tehran", "alborz", poses);
    poses = drawFlightPath("tehran", "sistan", poses);
    poses = drawFlightPath("tehran", "ardabil", poses);
    poses = drawFlightPath("tehran", "khuzestan", poses);
    poses = drawFlightPath("tehran", "khorasan-razavi", poses);
  }, 550);
}

drawInitial();

let lastHoveredRegion = null;

container.querySelectorAll("path[data-name]").forEach((path) => {
  path.addEventListener("mouseover", (ev) => {
    resetFlightPaths();
    const event = ev.target;

    if (!event.getAttribute("data-name")) return;

    if (lastHoveredRegion && lastHoveredRegion !== event) {
      resetStyles(lastHoveredRegion);
    }

    const tehran = mapContainer.querySelector("path[id='tehran']");
    if (tehran) {
      tehran.classList.add("!fill-black");
    }

    const tehranBbox = tehran.getBBox();
    const tehranCenterX = tehranBbox.x + tehranBbox.width / 2;
    const tehranCenterY = tehranBbox.y + tehranBbox.height / 2;

    const tehranIcon = document.getElementById("tehran-svg");
    const tehranLabel = document.getElementById("tehran-label");

    tehranIcon.classList.remove("hidden");
    tehranLabel.classList.remove("hidden");

    tehranIcon.style.top = `${tehranCenterY - 15}px`;
    tehranIcon.style.left = `${tehranCenterX - 45}px`;
    tehranLabel.style.top = `${tehranCenterY - 75}px`;
    tehranLabel.style.left = `${tehranCenterX - 45}px`;

    const targetIcon = mapContainer.querySelector(`#${event.id}-icon`);
    if (targetIcon) {
      const bbox = event.getBBox();
      const centerX = bbox.x + bbox.width / 2;
      const centerY = bbox.y + bbox.height / 2;

      targetIcon.classList.remove("hidden");
      targetIcon.style.top = `${centerY - 50}px`;
      targetIcon.style.left = `${centerX}px`;
    }

    const targetFlies = mapContainer.querySelector(`#${event.id}-flies`);
    if (targetFlies) {
      const bbox = event.getBBox();
      const centerX = bbox.x + bbox.width / 2;
      const centerY = bbox.y + bbox.height / 2;

      targetFlies.classList.remove("hidden");
      targetFlies.style.top = `${centerY - 190}px`;
      targetFlies.style.left = `${centerX - 130}px`;
    }

    // Update the last hovered region
    lastHoveredRegion = event;
  });
});

function resetStyles(region) {
  const icon = mapContainer.querySelector(`#${region.id}-icon`);
  if (icon) icon.classList.add("hidden");

  const flies = mapContainer.querySelector(`#${region.id}-flies`);
  if (flies) flies.classList.add("hidden");
}

container.addEventListener("mouseleave", () => {
  const tehran = mapContainer.querySelector("path[id='tehran']");
  if (tehran) {
    tehran.classList.remove("!fill-black");
  }

  const tehranIcon = document.getElementById("tehran-svg");
  const tehranLabel = document.getElementById("tehran-label");

  if (tehranIcon) tehranIcon.classList.add("hidden");
  if (tehranLabel) tehranLabel.classList.add("hidden");

  const allIcons = mapContainer.querySelectorAll("[id$='-icon']");
  allIcons.forEach((icon) => icon.classList.add("hidden"));

  const allFlies = mapContainer.querySelectorAll("[id$='-flies']");
  allFlies.forEach((flies) => flies.classList.add("hidden"));

  const selectedDay = document.querySelector("li.selected-day");
  if (selectedDay) {
    selectedDay.click();
  } else {
    drawInitial();
  }
});

const blog = new Splide(".splide", {
  type: "slide",
  perPage: 4,
  perMove: 1,
  gap: "1.5rem",
  direction: "rtl",

  arrows: false,

  mediaQuery: 'min',
  breakpoints: {
		1440: {
			perPage : 5
		},
    1660 : {
      perPage : 6
    }
  }
}).mount();

document
  .querySelector(".external__splide__arrows .prev")
  .addEventListener("click", function () {
    blog.go("<"); // Go to the previous slide
  });

document
  .querySelector(".external__splide__arrows .next")
  .addEventListener("click", function () {
    blog.go(">"); // Go to the next slide
  });

  const wrapper = document.querySelector(".card-wrapper");
  let cards = Array.from(wrapper.children);
  let isAnimating = false;
  const autoSlideInterval = 3000;
  let autoSlideTimer;
  
  function layoutCards() {
    const gap = 16;
    let offset = 0;
  
    cards.forEach((card, index) => {
      const isSelected = card.classList.contains("selected");
      card.style.transform = `translateX(${offset}px)`;
      card.dataset.index = index;
      offset += card.offsetWidth + gap;
    });
  }
  
  function moveCardToEnd() {
    if (isAnimating) return;
    isAnimating = true;
  
    const randomIndex = Math.floor(Math.random() * (cards.length - 1));
    const selectedCard = cards[randomIndex];
  
    cards.splice(randomIndex, 1);
    cards.push(selectedCard);
    cards.forEach(c => c.classList.remove("selected"));
    cards[cards.length - 1].classList.add("selected");
    layoutCards();
  
    setTimeout(() => {
      isAnimating = false;
    }, 500);
  }
  
  setTimeout(() => {
    layoutCards();
    addCardHoverListeners();
    startAutoSlide();
  }, 300);
  
  function startAutoSlide() {
    clearInterval(autoSlideTimer);
    autoSlideTimer = setInterval(moveCardToEnd, autoSlideInterval);
  }
  
  function stopAutoSlide() {
    clearInterval(autoSlideTimer);
  }
  
  function addCardHoverListeners() {
    cards.forEach(card => {
      card.addEventListener("mouseenter", () => {
        cards.forEach(c => c.classList.remove("selected"));
        card.classList.add("selected");
 
        layoutCards(); // no stopAutoSlide here
      });
  
      card.addEventListener("mouseleave", () => {
        cards.forEach(c => c.classList.remove("selected"));
        cards[cards.length - 1].classList.add("selected");
        layoutCards(); // no startAutoSlide here
      });
    });
  }
  
  wrapper.addEventListener("mouseenter", stopAutoSlide);
  wrapper.addEventListener("mouseleave", startAutoSlide);
  

const mobileNavToggle = document.getElementById("mobile-nav-toggle");
const closeNav = document.getElementById("close-nav");
const mobileNav = document.getElementById("mobile-nav");

mobileNavToggle.addEventListener("click", () => {
  mobileNav.classList.remove("hidden");
  mobileNav.classList.add("flex");
});

closeNav.addEventListener("click", () => {
  mobileNav.classList.add("hidden");
  mobileNav.classList.remove("flex");
});
